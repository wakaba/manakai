Namespace:
  @lang:
     http://suika.fam.cx/~wakaba/archive/2004/8/18/lang#
  @perl:
     http://suika.fam.cx/~wakaba/archive/2004/8/18/lang#Perl--
  @license:
     http://suika.fam.cx/~wakaba/archive/2004/8/18/license#
  @ManakaiDOMImplementationException:
     http://suika.fam.cx/~wakaba/archive/2004/8/4/manakai-dom-exception#
Module:
  @Name: ManakaiDOM
  @FullName:
    @@lang:en
    @@@: Manakai DOM Implementation Core Module
  @Namespace:
    http://suika.fam.cx/~wakaba/archive/2004/8/18/manakai-dom#
  @Package:
    @@Type:
      lang:Perl
    @@@: __CLASS{ManakaiDOM}__
  
  @License:
     license:Perl
  @Date.RCS:
     $Date: 2004/09/02 08:55:26 $

  @Require:
    @@Module:
      @@@Def:
        @@@@Type:
          lang:Perl
        @@@@require:
          Message::Util::Error
    @@Module:
      @@@Name: ManakaiDOM
      @@@Namespace:
        http://suika.fam.cx/~wakaba/archive/2004/8/18/dom-core#
      @@@Def:
        @@@@Type:
          lang:Perl
        @@@@@: 0;
      @@@Def:
      @@@Description:
        @@@@lang:en
        @@@@@: Dummy.
    @@Module:
      @@@Name: DOMCore
      @@@Namespace:
        http://suika.fam.cx/~wakaba/archive/2004/8/18/dom-core#
      @@@Def:
        @@@@Type:
          lang:Perl
        @@@@@: 0;
      @@@Def:
      @@@Description:
        @@@@lang:en
        @@@@@: Dummy.

  @ConditionDef:
    @@Name: DOM1
  @ConditionDef:
    @@Name: DOM2
  @NormalCondition: DOM2

Exception:
  @Name: ManakaiDOMImplementationException
  @Description:
    @@lang:en
     @@@:
       ManakaiDOMImplementationException is the class of 
       exceptions that reports 

  @Attr:
     @@Name:  code
     @@Get:
       @@@Type:  unsigned-short

  @ConstGroup:
    @@Name: ManakaiDOMImplementationExceptionCode

    @@Const:
      @@@Name: PARAM_INVALID_CLASS
      @@@Type: unsigned-long
      @@@Value: 0
      @@@Description:
        @@@@lang:en
        @@@@@:
          The perameter value must be of some class (interface),
          but given value does not.
      @@@Param:
        @@@@QName:
          ManakaiDOMImplementationException:class
        @@@@Type:
          perl:package-name
        @@@@Description:
          @@@@@lang:en
          @@@@@@: Class name to which given value belongs.

    @@Const:
      @@@Name: PARAM_NULL_POINTER
      @@@Type: unsigned-long
      @@@Value: 1
      @@@Description:
        @@@@lang:en
        @@@@@:
          Null value is given as a parameter.
      @@@Param:
        @@@@QName:
          ManakaiDOMImplementationException:param-name
        @@@@Description:
          @@@@@lang:en
          @@@@@@: Parameter name.

    @@Const:
      @@@Name: MDOM_DOMSTRING_INDEX_IN_SURROGATE_PAIR
      @@@Type: unsigned-long
      @@@Value: 2
      @@@Description:
        @@@@lang:en
        @@@@@: 
          The specified index points between the high surrogate and
          the low surrogate.
      @@@Param:
        @@@@QName:
          ManakaiDOMImplementationException:param-name
        @@@@Description:
          @@@@@lang:en
          @@@@@@: The parameter to which inappropriate value is specified.

    @@Const:
      @@@Name: MDOM_DEBUG_BUG
      @@@Type: unsigned-long
      @@@Description:
        @@@@lang:en
        @@@@@:
          Unexpected case occurs.
      @@@Param:
        @@@@QName:
          ManakaiDOMImplementationException:values
        @@@@Type: 
          Perl:hash
        @@@@Description:
          @@@@@lang:en
          @@@@@@: Arbitrary values for debugging.

  @ConstGroup:
    @@Name: ManakaiDOMImplementationWarningCode
    
    @@Const:
      @@@Name: ATTR_SET_NO_EFFECT
      @@@Type: unsigned-long
      @@@Value: 0
      @@@Description:
        @@@@lang:en
        @@@@@:
          Setting an attribute value has no effect by definition.

IF:
  @Name: ManakaiDOMTreeNode
  @Description:
    @@lang:en
    @@@:
      The ManakaiDOMTreeNode interface defines the basic tree-node
      operations.
      \
      Strictly, the ManakaiDOMTreeNode object is not the node itself,
      rather a reference to the node.
  @IntMethod:
    @@Name: new
    @@Description:
      @@@lang:en
      @@@@: Return a reference to the new node.
    @@Return:
      @@@Type: ManakaiDOMTreeNode
      @@@Description:
        @@@@lang:en
        @@@@@: A reference to the new node.
      @@@Def:
        @@@@Type:
          lang:Perl
        @@@@@:
          $r = bless {object => {rc => 1}}, $self;
  @IntMethod:
    @@Name: newReference
    @@Description:
      @@@lang:en
      @@@@: Return a new reference to the node.
    @@Return:
      @@@Type: ManakaiDOMTreeNode
      @@@Description:
        @@@@lang:en
        @@@@@: A new reference to the node.
      @@@Def:
        @@@@Type:
          lang:Perl
        @@@@@:
          $self->{object}->{rc}++;
          $r = bless {object => $self->{object}}, $self;
  @IntMethod:
    @@Name: destroy
    @@Description:
      @@@lang:en
      @@@@: Destroy this reference to the node object.
    @@Operator:
      @@@Type:
        lang:Perl
      @@@@: DESTROY
    @@Return:
      @@@Def:
        @@@@Type:
          lang:Perl
        @@@@@:
          $self->{object}->{rc}--;
 ## TODO:
          delete $self->{object};
       
## ManakaiDOM.dis ends here
