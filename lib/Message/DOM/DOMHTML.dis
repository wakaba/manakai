Module:
  @QName:
    MDOM:DOMHTML
  @Namespace:
     http://suika.fam.cx/~wakaba/archive/2004/dom/html#

  @AppName:
     @@@:  html
     @@ContentType:
        lang:IDL-DOM
     @@prefix:  dom.w3c.org
     @@For:
       ManakaiDOM:IDL ManakaiDOM:DOM1
  @AppName:
     @@@:  html2
     @@ContentType:
        lang:IDL-DOM
     @@prefix:  dom.w3c.org
     @@For:
       ManakaiDOM:IDL ManakaiDOM:DOM2

  @FullName:
    @@lang:en
    @@@: DOM HTML Module

  @Description:
    @@lang:en
    @@@:
      The DOM HTML Module provides objects and methods specific 
      to HTML 4 documents and XHTML 1.0 documents. The HTML 
      DOM exposes a number of convinience methods and attributes 
      that are more appropriate to script writers.  These 
      enhancements rely on transitional or frameset DTDs 
      of HTML 4.0 <SRC::DOM Level 1 HTML> or HTML 4.01 
      <SRC::DOM Level 2 HTML> and XHTML 1.0 <SRC::DOM Level 2 HTML>. 
      \
      Form related interfaces are provided by a separate
      module, <Module::DOMWebForms>.

  @Author:
     @@FullName: Wakaba
     @@Mail:  w@suika.fam.cx
  @License:
     license:Perl+MPL
  @Date:
    @@@:
      $Date: 2005/08/15 07:59:41 $
    @@ContentType:
      dis:Date.RCS

  @DefaultFor:
    ManakaiDOM:ManakaiDOMLatest

  @Require:
    @@Module:
      @@@QName: 
        DISlib:DISMarkup
      @@@WithFor:
        ManakaiDOM:all
     @@Module:
        @@@Name:  DOMXML
        @@@WithFor:
          ManakaiDOM:ManakaiDOMLatest
     @@Module:
        @@@Name:  DOMWebForms
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        ManakaiDOM:ManakaiDOM
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        ManakaiDOM:ManakaiDOM1
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        ManakaiDOM:ManakaiDOM2
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        ManakaiDOM:ManakaiDOMLatest
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        DOMHTML:ForHTML40SE
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        DOMHTML:ForHTML401
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        DOMHTML:ForXHTML10SE
    @@Module:
      @@@Name: DOMHTML
      @@@WithFor:
        DOMHTML:ForHTML5

Namespace:
  @dis:
    http://suika.fam.cx/~wakaba/archive/2004/8/18/lang#dis--
  @dis2pm:
    http://suika.fam.cx/~wakaba/archive/2004/11/8/dis2pm#
  @DISlib:
    http://suika.fam.cx/~wakaba/archive/2004/dis/
  @DOMHTML:
    http://suika.fam.cx/~wakaba/archive/2004/dom/html#
  @DOMMain:
    http://suika.fam.cx/~wakaba/archive/2004/dom/main#
  @infoset:
     http://www.w3.org/2001/04/infoset#
  @lang:
     http://suika.fam.cx/~wakaba/archive/2004/8/18/lang#
  @license:
     http://suika.fam.cx/~wakaba/archive/2004/8/18/license#
  @ManakaiDOM:
    http://suika.fam.cx/~wakaba/archive/2004/8/18/manakai-dom#
  @ManakaiDOMCore:
    http://suika.fam.cx/~wakaba/archive/2004/mdom-core#
  @ManakaiDOMHTML:
    http://suika.fam.cx/~wakaba/archive/2004/mdom/html#
  @MDOM:
    http://suika.fam.cx/~wakaba/archive/2004/8/18/manakai-dom#ManakaiDOM.
  @MDOMX:
    http://suika.fam.cx/~wakaba/archive/2004/8/4/manakai-dom-exception#
  @null:
    http://suika.fam.cx/~wakaba/-temp/2003/09/27/null
  @Perl:
    http://suika.fam.cx/~wakaba/archive/2004/8/18/lang#Perl--
  @rdf:
    http://www.w3.org/1999/02/22-rdf-syntax-ns#
  @rdfs:
    http://www.w3.org/2000/01/rdf-schema#
  @s:
    http://suika.fam.cx/~wakaba/archive/2004/dis/Markup#
  @TreeCore:\
  @xhtml1:
    http://www.w3.org/1999/xhtml
  @xml:
    http://www.w3.org/XML/1998/namespace
  @xmlns:
    http://www.w3.org/2000/xmlns/

ImplNote:
  @lang:en
  @@:
    {TODO:: Lowercase'ize Perl method/attribute names.
    \
    ISSUE: Should createTHead be createThead?
    \
    }

## -- "For HTML"

ForDef:
  @QName:
    DOMHTML:ForHTML
  @ISA:
    s:ForML
  @FullName:
    @@lang:en
    @@@:
      For Hypertext Markup Language (HTML), any version

ForDef:
  @QName:
    DOMHTML:ForClassicHTML
  @ISA:
    DOMHTML:ForHTML
  @FullName:
    @@lang:en
    @@@:
      For non-XML-based HTML, any version

ForDef:
  @QName:
    DOMHTML:ForHTML4
  @ISA:
    DOMHTML:ForHTML
  @FullName:
    @@lang:en
    @@@: For HTML 4

ForDef:
  @QName:
    DOMHTML:ForHTML40
  @ISA:
    DOMHTML:ForHTML4
  @FullName:
    @@lang:en
    @@@: For HTML 4.0

ForDef:
  @QName:
    DOMHTML:ForHTML40FE
  @ISA:
    DOMHTML:ForHTML40
  @FullName:
    @@lang:en
    @@@: For HTML 4.0 first edition

ForDef:
  @QName:
    DOMHTML:ForHTML40SE
  @ISA:
    DOMHTML:ForHTML40
  @FullName:
    @@lang:en
    @@@:
      For HTML 4.0 second edition

ForDef:
  @QName:
    DOMHTML:ForHTML401
  @ISA:
    DOMHTML:ForHTML4
  @FullName:
    @@lang:en
    @@@:
      For HTML 4.01

ForDef:
  @QName:
    DOMHTML:ForXHTML
  @ISA:
    DOMHTML:ForHTML
  @FullName:
    @@lang:en
    @@@:
      For XHTML, compatible with W3C XHTML 1, any version

ForDef:
  @QName:
    DOMHTML:ForXHTML1
  @ISA:
    DOMHTML:ForXHTML
  @FullName:
    @@lang:en
    @@@:
      For XHTML 1

ForDef:
  @QName:
    DOMHTML:ForXHTML10
  @ISA:
    DOMHTML:ForXHTML1
  @FullName:
    @@lang:en
    @@@:
      For XHTML 1.0

ForDef:
  @QName:
    DOMHTML:ForXHTML10FE
  @ISA:
    DOMHTML:ForXHTML10
  @FullName:
    @@lang:en
    @@@: For XHTML 1.0 First Edition

ForDef:
  @QName:
    DOMHTML:ForXHTML10SE
  @ISA:
    DOMHTML:ForXHTML10
  @FullName:
    @@lang:en
    @@@: For XHTML 1.0 Second Edition

ForDef:
  @QName:
    DOMHTML:ForXHTML1m12n
  @ISA:
    DOMHTML:ForXHTML1
  @FullName:
    @@lang:en
    @@@:
      For modularized XHTML 1

## TODO: FE and SE required

ForDef:
  @QName:
    DOMHTML:ForXHTML11
  @ISA:
    DOMHTML:ForXHTML1m12n
  @FullName:
    @@lang:en
    @@@: For XHTML 1.1

ForDef:
  @QName: DOMHTML|ForHTML5
  @FullName:
    @@lang:en
    @@@:
      For HTML 5 (Work in progress)
  @ISA: DOMHTML|ForHTML

## -- Features

ElementTypeBinding:
  @Name: FeatureDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      DOMMain:DOMFeature
    @@ForCheck:
      ManakaiDOM:all

ElementTypeBinding:
  @Name: FeatureVerDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      DOMMain:DOMFeature

ElementTypeBinding:
  @Name: featureName
  @ElementType:
    dis:AppName
  @ShadowContent:
    @@ContentType:
      dis:String

ElementTypeBinding:
  @Name: featureQName
  @ElementType:
    dis:AppName
  @ShadowContent:
    @@ContentType:
      dis:TypeQName

FeatureDef:
  @featureName:  HTML
  @QName: HTMLFeature
  @FeatureVerDef:
    @@Version:1.0
    @@QName: HTMLFeature10
    @@DOMMetaImpl:instanceFeatureOf: HTMLFeature
    @@FullName:
      @@@@: DOM Level 1 HTML
      @@@lang:en
    @@ImplNote:
      @@@lang:en
      @@@@:
        The DOM Level 2 HTML Specification does not say DOM Level 2 
        HTML implementations to answer to <M:hasFeature> of 
        <FeatureVer:1.0> as <DOM:true>.
    @@DOMMain:requireFeature:
      DOMCore:CoreFeature10
  @FeatureVerDef:
    @@Version:2.0
    @@QName: HTMLFeature20
    @@DOMMetaImpl:instanceFeatureOf: HTMLFeature
    @@FullName:
      @@@@: DOM Level 2 HTML
      @@@lang:en
    @@DOMMain:requireFeature:
      DOMCore:CoreFeature20

FeatureDef:
  @featureName: XHTML
  @QName: XHTMLFeature
  @FeatureVerDef:
    @@Version:2.0
    @@FullName:
      @@@@: DOM Level 2 HTML (with XHTML support)
      @@@lang:en
    @@QName: XHTMLFeature20
    @@DOMMetaImpl:instanceFeatureOf: XHTMLFeature
    @@DOMMain:extendFeature: HTMLFeature20
    @@DOMMain:extendFeature:
      DOMXML:XMLFeature20
    @@Description:
      @@@lang:en
      @@@@:
        DOM Level 2 HTML with XHTML support. 
        It is equal to <Feature::XML> / <FeatureVer::2.0> and  
        <Feature::HTML> / <FeatureVer::2.0>.

## -- Datatypes

ElementTypeBinding:
  @Name: DataTypeAlias
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DataType
    @@ForCheck:
      ManakaiDOM:DOM

DataTypeAlias:
  @Name:  DOMString
  @AliasFor:
    @@@:
      DOMMain:DOMString
    @@For:
      !ManakaiDOM:IDL
  @Def:
    @@For:
      ManakaiDOM:IDL
    @@ContentType:
      lang:dis
    @@DISLang:dataTypeAliasFor:
      DOMMain:DOMString

DataTypeAlias:
  @Name:  Node
  @AliasFor:
    @@@:
      DOMCore:Node
    @@For:
      !ManakaiDOM:IDL
  @Def:
    @@For:
      ManakaiDOM:IDL
    @@ContentType:
      lang:dis
    @@DISLang:dataTypeAliasFor:
      DOMCore:Node

DataTypeAlias:
  @Name:  Document
  @AliasFor:
    @@@:
      DOMCore:Document
    @@For:
      !ManakaiDOM:IDL
  @Def:
    @@For:
      ManakaiDOM:IDL
    @@ContentType:
      lang:dis
    @@DISLang:dataTypeAliasFor:
      DOMCore:Document

DataTypeAlias:
  @Name:  NodeList
  @AliasFor:
    @@@:
      DOMCore:NodeList
    @@For:
      !ManakaiDOM:IDL
  @Def:
    @@For:
      ManakaiDOM:IDL
    @@ContentType:
      lang:dis
    @@DISLang:dataTypeAliasFor:
      DOMCore:NodeList

DataTypeAlias:
  @Name:  Element
  @AliasFor:
    @@@:
      DOMCore:Element
    @@For:
      !ManakaiDOM:IDL
  @Def:
    @@For:
      ManakaiDOM:IDL
    @@ContentType:
      lang:dis
    @@DISLang:dataTypeAliasFor:
      DOMCore:Element

ElementTypeBinding:
  @Name: ReflectTypeDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type: ManakaiDOM|DataType
    @@ForCheck: !ManakaiDOM|IDL

ReflectTypeDef:
  @QName: CDATADOMString
  @enDesc:
    <IF::DOMMain:DOMString> for DOM attributes reflecting
    <SGML::CDATA> element attributes.
  @rdfs:subClassOf: DOMString
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectGet
    @@DefaultValue: \
    @@enDesc:
      The DOM attribute returns the current value of the element attribute
      in a transparent, case-sensitive manner.
      \
      If the element attribute is absent, the default value, if any,
      or the empty string is returned.
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $r = $ao-><AG::DOMCore:Attr.value>;
        }__;
      }
  @ResourceDef:
    @@QName: CDATADOMStringSet
    @@rdf:type: DOMMain|ReflectSet
    @@enDesc:
      The corresponding element attribute is set to the given value,
      in a transparent, case-sensitive manner.
    @@ImplNote:
      @@@lang:en
      @@@@: 
        What will happen if the <DOM::null> value is given?
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $ao-><AS::DOMCore:Attr.value> ($given);
        }__;
      } else {
        __DEEP{
          __FOR{ManakaiDOM|DOM2::
            $self-><M::DOMCore:Element.setAttributeNS>
                                               (null, $LOCAL_NAME => $given);
          }__;
          __FOR{!ManakaiDOM|DOM2::
            $self-><M::DOMCore:Element.setAttribute> ($LOCAL_NAME => $given);
          }__;
        }__;
      }

ReflectTypeDef:
  @QName: EnumDOMString
  @enDesc:
    <IF::DOMMain:DOMString> for DOM attributes reflecting
    element attributes which is defined to only allow a specific
    set of values.
  @rdfs:subClassOf: DOMString
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectGet
    @@DefaultValue: \
    @@enDesc:
      The DOM attribute returns the current value of the element attribute
      in lowercase.
      \
      If the element attribute is absent, the default value, if any,
      or the empty string is returned.
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $r = lc $ao-><AG::DOMCore:Attr.value>;
        }__;
      }
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectSet
    @@enDesc:
      The corresponding element attribute is set to the given value,
      in a transparent, case-sensitive manner.
    @@ImplNote:
      @@@lang:en
      @@@@: 
        What will happen if the <DOM::null> value is given?
    @@disDef:
      @@@DISPerl:cloneCode: CDATADOMStringSet

ReflectTypeDef:
  @QName: URIDOMString
  @enDesc:
    <IF::DOMMain:DOMString> for DOM attributes reflecting
    element attributes defined to contain a IRI.
  @rdfs:subClassOf: DOMString
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectGet
    @@DefaultValue: \
    @@enDesc:
      The DOM attribute returns the current value of the element attribute,
      resolved to an absolute IRI.
      \
      If the element attribute is absent, the default value, if any,
      or the empty string is returned.
    @@ImplNote:
      @@@lang:en
      @@@@:
        {TODO:: Resolving.
        \
        }
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $r = $ao-><AG::DOMCore:Attr.value>;
        }__;
      }
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectSet
    @@enDesc:
      The corresponding element attribute is set to the given literal value.
    @@ImplNote:
      @@@lang:en
      @@@@: 
        What will happen if the <DOM::null> value is given?
    @@disDef:
      @@@DISPerl:cloneCode: CDATADOMStringSet
      
ReflectTypeDef:
  @QName: Boolean
  @enDesc:
    <IF::DOMMain:boolean::ManakaiDOM:all> for DOM attributes reflecting
    boolean element attributes.
  @rdfs:subClassOf: DOMMain|boolean||ManakaiDOM|all
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectGet
    @@DefaultValue: false
    @@enDesc:
      The DOM attribute returns <DOM::true> if the element attribute
      is set and <DOM::false> if it is absent.
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      $r = $ao ? true : false;
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectSet
    @@enDesc:
      The element attribute is removed if the DOM attribute
      is set to <DOM::false> and is set to have the same
      value as its local name if the DOM attribute is set to <DOM::true>.
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        if ($given) {
          my $attr;
          __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
            $object => $ao, $ref => $attr,
            $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
          }__;
          __DEEP{
            $ao-><AS::DOMCore:Attr.value> ($LOCAL_NAME);
          }__;
        } else {
          if ($self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                   ->{<Q::null:>}->{$LOCAL_NAME}) {
            CORE::delete $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                              ->{<Q::null:>}->{$LOCAL_NAME};
          } else {
            CORE::delete $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                              ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
          }
          CORE::delete $ao->{<Q::infoset:ownerElement>};
          $ao-><M::ManakaiDOM|ManakaiDOMNodeObject||ManakaiDOM|Perl.orphanate>;
        }
      } else {
        if ($given) {
          __DEEP{
            __FOR{ManakaiDOM|DOM2::
              $self-><M::DOMCore:Element.setAttributeNS>
                                              (null, $LOCAL_NAME => $LOCAL_NAME);
            }__;
            __FOR{!ManakaiDOM|DOM2::
              $self-><M::DOMCore:Element.setAttribute>
                                                    ($LOCAL_NAME => $LOCAL_NAME);
            }__;
          }__;
        }
      }

ReflectTypeDef:
  @QName: Numeric
  @enDesc:
    <IF::DOMMain:long::ManakaiDOM:all> for DOM attributes reflecting
    number element attributes.
  @rdfs:subClassOf: DOMMain|long||ManakaiDOM|all
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectGet
    @@DefaultValue: 0
    @@enDesc:
      The DOM attribute returns a numeric type value converted
      from the element attribute value.  If the convertion 
      fails or if the element attribute is absent, then
      the default value is returned or <DOM::0> if there is 
      no default value. 
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $r = $ao-><AG::DOMCore:Attr.value>;
        }__;
        __CODE{convertToNumericType::
          $original => $r, 
          $result => $r,
          $default => {0},
        }__;
      }
    @@ImplNote:
      @@@lang:en
      @@@@:
        {TODO:: Default value other than 0.
        \
        }
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectSet
    @@enDesc:
      The given value is converted to a string representing
      the number in decimal (base ten) and then that
      string is set to the element attribute.
    @@QName: NumericSet
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $ao-><AS::DOMCore:Attr.value> (0 + $given);
        }__;
      } else {
        __DEEP{
          __FOR{ManakaiDOM|DOM2::
            $self-><M::DOMCore:Element.setAttributeNS>
                                               (null, $LOCAL_NAME => 0 + $given);
          }__;
          __FOR{!ManakaiDOM|DOM2::
            $self-><M::DOMCore:Element.setAttribute> ($LOCAL_NAME => 0 + $given);
                                                    
          }__;
        }__;
      }

  @ResourceDef:
    @@rdf:type: dis2pm|BlockCode
    @@QName: convertToNumericType
    @@enDesc:
      Converts a string to a number. 
      \
      When an HTML 5 (work in progress) user agent needs to
      convert a string to a number, algorithms equivalent
      to those specified in ECMA 262 section 9.3.1
      <sw010:csection::ToNumber Applied to the String Type> and
      8.5 <sw010:csection::The Number type> should be used
      (possibly after suitably altering the algorithms to handle
      numbers of the range that the user agent can support).
    @@ImplNote:
      @@@lang:en
      @@@@:
      - StringNumericLiteral := [StrWhiteSpace]
                                [StrNumericLiteral [StrWhiteSpace]]
      \
      - StrWhiteSpace := 1*StrWhiteSpaceChar
      \
      - StrWhiteSpaceChar := TAB / SP / NBSP / FF / VT / CR / LF / LS / PS / USP
                          ;; U+0009 / U+0020 / U+00A0 / U+000C / U+000D /
                             U+000A / U+2028 / U+2029 / Zs
      \
      - StrNumericLiteral := StrDecimalLiteral / HexIntegerLiteral
      \
      - StrDecimalLiteral := ["+" / "-"] StrUnsignedDecimalLiteral
      \
      - StrUnsignedDecimalLiteral := 'Infinity' /
               1*DIGIT ["."  0*DIGIT]  [ExponentPart] /
                        "."  1*DIGIT  [ExponentPart]
      \
      - ExponentPart := "E" SignedInteger
      \
      - SignedInteger := ["+" / "-"] 1*DIGIT
      \
      - HexIntegerLiteral := "0x" 1*HEXDIGIT
    @@ImplNote:
      @@@lang:en
      @@@@:
        ECMA 262 3rd edition (1999) references Unicode 2.1
        and section 7.2 <sw10:csection::White Space> 
        cites Unicode without version number, while section 6
        <sw10:csection::Source Text> refers Unicode 2.1 or later.
    @@PerlDef:
      if ($original =~ m{
        \A  [\x09\x0A\x0C\x0D\x20\u{00A0}\u{2028}\u{2029}\pZs]*

        (?: (

            ## Decimal

            [+-] (?: [0-9]+(?:\.[0-9]*)?([eE][+-][0-9]+)? |
                              \.[0-9]+  ([eE][+-][0-9]+)? |
                     Infinity ) |

            ## Hex

            0[xX][0-9A-Fa-f]+

            )

            [\x09\x0A\x0C\x0D\x20\u{00A0}\u{2028}\u{2029}\pZs]* )? \z
      }s) {
        my $__str = $1;
        if (defined $__str) {
          if (lc substr ($__str, 0, 2) eq '0x') {
            $result = hex $__str;
          } else {
            $result = 0 + $__str;
          }
          ## BUG: Infinity is not supported
        } else {
          $result = +0;
        }
      } else { ## NaN
        $result = $default;
      }

ReflectTypeDef:
  @QName: UnsignedNumeric
  @enDesc:
    <IF::DOMMain:unsigned-long::ManakaiDOM:all> for DOM attributes reflecting
    number element attributes.
  @rdfs:subClassOf: DOMMain|unsigned-long||ManakaiDOM|all
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectGet
    @@DefaultValue: 0
    @@enDesc:
      The DOM attribute returns a numeric type value converted
      from the element attribute value.  If the convertion 
      fails or if the element attribute is absent, then
      the default value is returned or <DOM::0> if there is 
      no default value. 
    @@PerlDef:
      my $ao = $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::null:>}->{$LOCAL_NAME} ||
               $self->{<Q::TreeCore:node>}->{<Q::infoset:attributes>}
                    ->{<Q::ManakaiDOM:noNS>}->{$LOCAL_NAME};
      if ($ao) {
        my $attr;
        __CODE{ManakaiNode:getWeakReference||ManakaiDOM:Perl::
          $object => $ao, $ref => $attr,
          $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
        }__;
        __DEEP{
          $r = $ao-><AG::DOMCore:Attr.value>;
        }__;
        __CODE{convertToNumericType::
          $original => $r, 
          $result => $r,
          $default => {0},
        }__;
        $r = 0 if $r < 0;
      }
    @@ImplNote:
      @@@lang:en
      @@@@:
        {TODO:: What should be returned if negative value?
        \
        }
  @ResourceDef:
    @@rdf:type: DOMMain|ReflectSet
    @@enDesc:
      The given value is converted to a string representing
      the number in decimal (base ten) and then that
      string is set to the element attribute.
    @@disDef:
      @@@DISPerl:cloneCode: NumericSet

ImplNote:
  @lang:en
  @@:
    The DOM Level 2 HTML Specification does not intend to define 
    exactly how a UA will respond to a change to any 
    attribute on an element that directly or indirectly refers 
    external data, such elements are <IF:HTMLAppletElement>, 
    <IF:HTMLFrameElement>, <IF:HTMLFrameSetElement>, 
    <IF:HTMLIFrameElement>, <IF:HTMLImageElement>, <IF:HTMLLinkElement>, 
    <IF:HTMLObjectElement>, <IF:HTMLParamElement> and
    <IF:HTMLScriptElement>.
  @@For:
    ManakaiDOM:DOM

ElementTypeBinding:
  @Name: L1
  @ElementType:
    DOMMain:implementFeature
  @ShadowContent:
    @@@: HTMLFeature10
    @@For:
      ManakaiDOM:DOM1 !ManakaiDOM:DOM2
  @ShadowSibling:
    @@DOMMain:implementFeature:
      @@@@: HTMLFeature20
      @@@For:
        ManakaiDOM:DOM2

ElementTypeBinding:
  @Name: L1IF
  @ElementType:
    DOMMain:implementFeature
  @ShadowContent:
    @@@: HTMLFeature10
    @@For:
      ManakaiDOM:DOM1 !ManakaiDOM:DOM2
  @ShadowSibling:
    @@DOMMain:implementFeature:
      @@@@: HTMLFeature20
      @@@For:
        ManakaiDOM:DOM2
    @@For:
      ManakaiDOM:DOM1
    @@For:
      =ManakaiDOM:ManakaiDOM
    @@For: ForHTML
    @@ISA:
      @@@@: ||ManakaiDOM|ManakaiDOM2||ManakaiDOM|ForIF
      @@@ForCheck: ManakaiDOM|ForIF ManakaiDOM|ManakaiDOMLatest
      @@@ContentType: DISCore|TFPQNames
## NOTE: A Level 2 interface is not always upward-compatible with Level 1 i.f.

ElementTypeBinding:
  @Name: L2
  @ElementType:
    DOMMain:implementFeature
  @ShadowContent:
    @@@: HTMLFeature20
    @@For:
      ManakaiDOM:DOM2

ElementTypeBinding:
  @Name: L2ISAL1
  @ElementType:
    dis:ISA
  @ShadowContent:
    @@@: ||ManakaiDOM|ManakaiDOM1||ManakaiDOM|ForIF
    @@ForCheck: ManakaiDOM|ForIF ManakaiDOM|ManakaiDOM
    @@ContentType: DISCore|TFPQNames

ElementTypeBinding:
  @Name: L2IF
  @ElementType:
    DOMMain:implementFeature
  @ShadowContent:
    @@@: HTMLFeature20
    @@For:
      ManakaiDOM:DOM2
  @ShadowSibling:
    @@For:
      ManakaiDOM:DOM2
    @@For:
      =ManakaiDOM:ManakaiDOM
    @@For: ForHTML

ElementTypeBinding:
  @Name: PerlDef
  @ElementType:
    dis:Def
  @ShadowContent:
    @@ContentType:
      lang:Perl

ElementTypeBinding:
  @Name: IF
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      @@@@:
        dis:MultipleResource
      @@@ForCheck:
        !ManakaiDOM:ForClass !ManakaiDOM:ForIF !ForHTML
    @@rdf:type:
      @@@@:
        ManakaiDOM:IF
      @@@ForCheck:
        ManakaiDOM:ForIF
    @@rdf:type:
      @@@@:
        ManakaiDOM:Class
      @@@ForCheck:
        ManakaiDOM:ForClass
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForIF
      @@@For:
        ManakaiDOM:DOMHTMLFeature
      @@@For:
        =ManakaiDOM:ManakaiDOM
      @@@ForCheck: !ForHTML
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForClass
      @@@ForCheck:
        ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM
        ManakaiDOM:DOMHTMLFeature !ForHTML
    @@ISA:
      @@@@:
        ManakaiDOM:ManakaiDOMObject
      @@@ForCheck:
        ManakaiDOM:ForClass
    @@ISA:
      @@@@:
        ::ManakaiDOM:ManakaiDOM||ManakaiDOM:ForIF
      @@@ForCheck:
        ManakaiDOM:ForIF ManakaiDOM:ManakaiDOM1
      @@@ContentType: DISCore|TFPQNames
    @@Implement:
      @@@@: ||+||ManakaiDOM|ForIF
      @@@ForCheck: ManakaiDOM|ForClass ManakaiDOM|ManakaiDOM1
      @@@ContentType: DISCore|TFPQNames

ElementTypeBinding:
  @Name: ClsOnly
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      @@@@:
        dis:MultipleResource
      @@@ForCheck:
        !ManakaiDOM:ForClass !ManakaiDOM:ForIF !ForHTML
    @@rdf:type:
      @@@@:
        ManakaiDOM:Class
      @@@ForCheck:
        ManakaiDOM:ForClass
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForClass
      @@@ForCheck:
        ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM
        ManakaiDOM:DOMHTMLFeature !ForHTML
    @@ISA:
      @@@@:
        ManakaiDOM:ManakaiDOMObject
      @@@ForCheck:
        ManakaiDOM:ForClass

ElementTypeBinding:
  @Name: ET
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      @@@@:
        dis:MultipleResource
      @@@ForCheck:
        !ManakaiDOM:ForClass !ManakaiDOM:ForIF !ForHTML
    @@rdf:type:
      @@@@:
        ManakaiDOM:IF
      @@@ForCheck:
        ManakaiDOM:ForIF
    @@rdf:type:
      @@@@:
        ManakaiDOM:Class
      @@@ForCheck:
        ManakaiDOM:ForClass
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForIF
      @@@ForCheck:
        ManakaiDOM:DOM
      @@@For:
        ManakaiDOM:DOMHTMLFeature
      @@@For:
        =ManakaiDOM:ManakaiDOM
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForClass
      @@@ForCheck:
        ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM ManakaiDOM:DOMHTMLFeature

    @@rdf:type:
      @@@@:
        s:ElementType
      @@@ForCheck:
        ForHTML

    @@ISA:
      @@@@:
        ::ManakaiDOM:ManakaiDOM||ManakaiDOM:ForIF
      @@@ForCheck:
        ManakaiDOM:ForIF ManakaiDOM:ManakaiDOM1
      @@@ContentType: DISCore|TFPQNames
    @@Implement:
      @@@@: ||+||ManakaiDOM|ForIF
      @@@ForCheck: ManakaiDOM|ForClass ManakaiDOM|ManakaiDOM1
      @@@ContentType: DISCore|TFPQNames

    @@DISMarkup:elementType:
      @@@@:
        ::ForHTML40SE
      @@@ForCheck:
        ManakaiDOM:DOM1 !ManakaiDOM:DOM2
      @@@ImplNote:
        @@@@lang:en
        @@@@@:
          DOM Level 1 First Edition refers the latest version of 
          HTML 4.0 while Second Edition refers the second edition of 
          HTML 4.0. 
      @@@DISCore:stopISARecursive:1
    @@DISMarkup:elementType:
      @@@@:
        ::ForHTML401
      @@@ForCheck:
        ManakaiDOM:DOM2
    @@DISMarkup:elementType:
      @@@@:
        ::ForXHTML10SE
      @@@ForCheck:
        ManakaiDOM:DOM2
      @@@DISCore:stopISARecursive:1

ElementTypeBinding:
  @Name: H5ETX
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      @@@@:
        dis:MultipleResource
      @@@ForCheck:
        !ManakaiDOM:ForClass !ManakaiDOM:ForIF !ForHTML
    @@rdf:type:
      @@@@:
        ManakaiDOM:IF
      @@@ForCheck:
        ManakaiDOM:ForIF
    @@rdf:type:
      @@@@:
        ManakaiDOM:Class
      @@@ForCheck:
        ManakaiDOM:ForClass
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForIF
      @@@ForCheck:
        ManakaiDOM:DOM
      @@@For:
        ManakaiDOM:DOMHTMLFeature
      @@@For:
        =ManakaiDOM:ManakaiDOM
    @@resourceFor:
      @@@@:
        ManakaiDOM:ForClass
      @@@ForCheck:
        ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM ManakaiDOM:DOMHTMLFeature

    @@rdf:type:
      @@@@:
        s:ElementType
      @@@ForCheck:
        ForHTML

    @@ISA:
      @@@@:
        ::ManakaiDOM:ManakaiDOM||ManakaiDOM:ForIF
      @@@ForCheck:
        ManakaiDOM:ForIF ManakaiDOM:ManakaiDOM1
      @@@ContentType: DISCore|TFPQNames
    @@Implement:
      @@@@: ||+||ManakaiDOM|ForIF
      @@@ForCheck: ManakaiDOM|ForClass ManakaiDOM|ManakaiDOM1
      @@@ContentType: DISCore|TFPQNames

    @@DISMarkup:elementType:
      @@@@: ||ForHTML5
      @@@ForCheck: ManakaiDOM|ManakaiDOMLatest
      @@@DISCore:stopISARecursive:1

    @@DOMMain:implementFeature: HTMLExtendedFeature30

    @@For: =ManakaiDOM|ManakaiDOM
    @@For: ManakaiDOM|ManakaiDOMLatest
    @@For: ForHTML5

ElementTypeBinding:
  @Name: Method
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMMethod
    @@ForCheck:
      ManakaiDOM:DOM !=ManakaiDOM:ManakaiDOM
ElementTypeBinding:
  @Name: IntMethod
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMMethod
    @@ForCheck:
      ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM
    @@ManakaiDOM:isForInternal: 1
ElementTypeBinding:
  @Name: ReMethod
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMMethod
    @@ForCheck:
      ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM
    @@ManakaiDOM:isRedefining: 1
ElementTypeBinding:
  @Name: Param
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMMethodParameter
ElementTypeBinding:
  @Name: Exception
  @ElementType:
    ManakaiDOM:raises

ElementTypeBinding:
  @Name: Return
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMMethodReturn

ElementTypeBinding:
  @Name: Attr
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMAttribute
    @@ForCheck:
      ManakaiDOM:DOM !=ManakaiDOM:ManakaiDOM

ElementTypeBinding:
  @Name: Attrs
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      @@@@: ManakaiDOM|DOMAttribute
      @@@ForCheck: ManakaiDOM|DOM
    @@ForCheck: !=ManakaiDOM|ManakaiDOM
    @@For: ManakaiDOM|ManakaiDOM
    @@For: ForHTML
    @@rdf:type:
      @@@@: s|Attribute
      @@@ForCheck: ForHTML

ElementTypeBinding:
  @Name: ATTR
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@ForCheck:
      !=ManakaiDOM:ManakaiDOM
    @@rdf:type:
      @@@@:
        ManakaiDOM:DOMAttribute
      @@@ForCheck:
        ManakaiDOM:DOM
    @@rdf:type:
      @@@@:
        s:Attribute
      @@@ForCheck:
        ForHTML
    @@DocAttr:
      @@@@:
        ::ForHTML40SE
      @@@ForCheck:
        ManakaiDOM:DOM1 !ManakaiDOM:DOM2
      @@@ImplNote:
        @@@@lang:en
        @@@@@:
          DOM Level 1 First Edition refers the latest version of 
          HTML 4.0 while Second Edition refers the second edition of 
          HTML 4.0. 
    @@DocAttr:
      @@@@:
        ::ForHTML401
      @@@ForCheck:
        ManakaiDOM:DOM2
    @@DocAttr:
      @@@@:
        ::ForXHTML10SE
      @@@ForCheck:
        ManakaiDOM:DOM2

ElementTypeBinding:
  @Name: ReAttr
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMAttribute
    @@ForCheck:
      ManakaiDOM:ManakaiDOM !=ManakaiDOM:ManakaiDOM
    @@ManakaiDOM:isRedefining: 1
ElementTypeBinding:
  @Name: Get
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMAttrGet
    @@ForCheck:
      ManakaiDOM:DOM
ElementTypeBinding:
  @Name: Set
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DOMAttrSet
    @@ForCheck:
      ManakaiDOM:DOM
ElementTypeBinding:
  @Name: InCase
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:InCase

ElementTypeBinding:
  @Name: ConstGroup
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:ConstGroup
    @@ForCheck:
      ManakaiDOM:DOM !=ManakaiDOM:ManakaiDOM

ElementTypeBinding:
  @Name: Const
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type: 
      ManakaiDOM:Const
    @@ForCheck:
      ManakaiDOM:DOM !=ManakaiDOM:ManakaiDOM

ElementTypeBinding:
  @Name: Deprecated
  @ElementType:
    DOMHTML:isDeprecatedByHTML4
  @ShadowContent: 1
  @ShadowSibling:
    @@ForCheck: !ForXHTML11

PropDef:
  @QName: isDeprecatedByHTML4
  @Description:
    @@lang:en
    @@@:
      Whether a subject resource is deprecated by HTML 4 or not. 
  @dataType: 
    dis:Boolean

IF:
  @Name:
    @@@: HTMLCollection
    @@ForCheck:
      ManakaiDOM:ForIF

  @QName:
    @@@: ManakaiDOMHTMLCollection
    @@ForCheck:
      ManakaiDOM:ForClass
  @ISA:
    @@@:
      ManakaiDOM:ManakaiDOMNodeReference::ManakaiDOM:Perl
    @@ForCheck:
      ManakaiDOM:ForClass
  @L2ISAL1:

  @Description:
    @@lang:en
    @@@:
      A list of nodes.  An individual node may be accessed 
      by either ordinal index or the <HA:name> or <HA:id> 
      of the node.
      \
      <IF:HTMLCollection> objects are <EM:live>; they are 
      automatically updated when the underlying document 
      is changed.

  @L1IF:

  @Attr:
     @@Name:  length
     @@Description:
       @@@lang:en
       @@@@: The length of the list.
     @@Get:
        @@@Type:
           DOMMain:unsigned-long
        @@@PerlDef:
            my $l = $self->{<Q::TreeCore:node>}
                         -><M::ManakaiDOMCore:ManakaiDOMNodeObjectNode
                                  .getElementsBy>
                             ($self->{<Q::ManakaiDOMCore:nodeMatch>});
            $r = @$l;
  @Method:
     @@Name:  item
     @@Description:
       @@@lang:en
       @@@@:
         Retrieve a node specified by ordinal index. 
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:unsigned-long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The index of the node to retrieve, in the document order. 
            The index origin is <DOM:0>.
     @@Return:
        @@@Type:  
          DOMCore:Node
        @@@Description:
          @@@@lang:en
          @@@@@:
            The <P:index>th node.
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The <P:index> is out of range.
        @@@PerlDef:
           $r = $self->{<Q::TreeCore:node>}
                     -><M::ManakaiDOMCore:ManakaiDOMNodeObjectNode
                                   .getElementBy> 
                          ($self->{<Q::ManakaiDOMCore:nodeMatch>}, \$index);
           if (defined $r) {
             $r = <ClassM::DOMCore:ManakaiDOMNode.getNodeReference> ($r);
           }
  @Method:
     @@Name:  namedItem
     @@Description:
       @@@lang:en
       @@@@:
          Retrieve a node using a name.  
       \
          With HTML 4 documents, 
          it first searches for an <IF:Element> with a matching 
          <HA:name> attribute and if it does not find one, 
          it searches for an <IF:Element> (that is allowed to specify a 
          <HA:name> attribute) with a matching <HA:name> attribute. 
          The matching is case-insensitive.
       \
          With XHTML 1.0 documents, it only searches for 
          an <IF:Element> with a matching <HA:id> attribute. 
          The matching is case-sensitive.
     @@ImplNote:
       @@@lang:en
       @@@@:
         XHTML <HA::id> local attributes? XML <XML::ID> attributes? 
         Any local <XA::id> attributes?
     @@Param:
        @@@Name:  name
        @@@Type:  
          DOMMain:DOMString
        @@@Description:
          @@@@lang:en
          @@@@@:
            The name of the <IF:Node> to retrieve.
     @@Return:
        @@@Type:  
          DOMCore:Node
        @@@Description:
          @@@@lang:en
          @@@@@:
            The <IF:Node> with a <HA:name> or <HA:id> whose 
            value matches with <P:name>.
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              There is no node with such a <P:name>.
       @@@PerlDef:
         my $node = $self->{<Q::TreeCore:node>};
         $name = "$name";
         my $index = 0;
         if (not $node->{<Q::DOMCore:ownerDocument>}
                      ->{<Q::DOMCore:hasFeature>}->{XML}) {
           $r = $self->{<Q::TreeCore:node>}
                     -><M::ManakaiDOMCore:ManakaiDOMNodeObjectNode
                                   .getElementBy> 
                        (sub ($) {
      \#line 1 "DOMHTML.ManakaiDOMHTMLCollection.namedItem.#1"
                           my $node = shift;
                           if ($self->{<Q::ManakaiDOMCore:nodeMatch>}->($node)) {
                             my $attr = $node->{<Q::infoset:attributes>}
                                             ->{<Q::null:>}->{name} ||
                                        $node->{<Q::infoset:attributes>}
                                             ->{<Q::ManakaiDOM:noNS>}->{name};
                             if ($attr) {
                               my $attrn;
                               __CODE{ManakaiNode:getWeakReference
                                      ||ManakaiDOM:Perl::
                                 $object => $attr, $ref => $attrn,
                                 $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
                               }__;
                               __FOR{ManakaiDOM:DOM3::
                                 if ($attrn-><AG::DOMCore:Node.textContent>
                                        eq $name) {
                                   return true;
                                 }
                               }__;
                               __FOR{!ManakaiDOM:DOM3::
                                 if ($attrn-><AG::DOMCore:ManakaiDOMNode
                                                .textContent> eq $name) {
                                   return true;
                                 }
                               }__;
                             }
                           }
                           return false;
      \#line 1 "DOMHTML.ManakaiDOMHTMLCollection.namedItem.#2"
                         }, \$index);
         }
         $index = 0;
         $r ||= $self->{<Q::TreeCore:node>}
                     -><M::ManakaiDOMCore:ManakaiDOMNodeObjectNode
                                   .getElementBy> 
                        (sub ($) {
      \#line 1 "DOMHTML.ManakaiDOMHTMLCollection.namedItem.#3"
                           my $node = shift;
                           if ($self->{<Q::ManakaiDOMCore:nodeMatch>}->($node)) {
                             my $attr = $node->{<Q::infoset:attributes>}
                                             ->{<Q::null:>}->{id} ||
                                        $node->{<Q::infoset:attributes>}
                                             ->{<Q::ManakaiDOM:noNS>}->{id};
                             if ($attr) {
                               my $attrn;
                               __CODE{ManakaiNode:getWeakReference
                                      ||ManakaiDOM:Perl::
                                 $object => $attr, $ref => $attrn,
                                 $class => {<ClassName::DOMCore:ManakaiDOMAttr>},
                               }__;
                               __FOR{ManakaiDOM:DOM3::
                                 if ($attrn-><AG::DOMCore:Node.textContent>
                                        eq $name) {
                                   return true;
                                 }
                               }__;
                               __FOR{!ManakaiDOM:DOM3::
                                 if ($attrn-><AG::DOMCore:ManakaiDOMNode
                                                .textContent> eq $name) {
                                   return true;
                                 }
                               }__;
                             }
                           }
                           return false;
      \#line 1 "DOMHTML.ManakaiDOMHTMLCollection.namedItem.#4"
                         }, \$index);
           if (defined $r) {
             $r = <ClassM::DOMCore:ManakaiDOMNode.getNodeReference> ($r);
           }

ImplNote:
  @@lang:en
  @@@:
    <IF:HTMLOptionCollection>: See <Module:DOMWebForms>.

IF:
  @Name:
    @@@: ManakaiDOMHTMLDOMImplementationIF
    @@ForCheck:
      ManakaiDOM:ForIF
  @ISA:
    @@@: 
      DOMCore:DOMImplementation
    @@ForCheck:
      ManakaiDOM:ForIF
  
  @Name:
    @@@: ManakaiDOMHTMLDOMImplementation
    @@ForCheck:
      ManakaiDOM:ForClass
  @ISA:
    @@@: 
      DOMCore:ManakaiDOMImplementation
    @@ForCheck:
      ManakaiDOM:ForClass

  @For:
    ManakaiDOM:ManakaiDOMLatest
  @For:
    =ManakaiDOM:ManakaiDOM
  @DOMMain:implementFeature: HTMLFeature20
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @DOMMetaImpl:provideFeature: HTMLFeature20
  @DOMMetaImpl:provideFeature: HTMLExtendedFeature30

  @Description:
    @@lang:en
    @@@:
      A DOM implementation with HTML-specific methods. 
      \
      {NOTE:: The <IF::HTMLDOMImplementation> was part of 
              the W3C's DOM Level 2 HTML Candicate Recommendation 
              but later removed.  The manakai DOM implementation 
              has been decided to include this interface since 
              there are a number of implementations supporting 
              the <M::HTMLDOMImplementation.createHTMLDocument> method 
              and the DOM Level 3 Core Specification belives:-) that 
              there is a <M::createHTMLDocument> method. 
      \
      }

  @Method:
    @@Name: createHTMLDocument
    @@Description:
      @@@lang:en
      @@@@:
        Creates an <IF::HTMLDocument> object with the minimal tree 
        made of <HE::html>, <HE::head>, <HE::title> and <HE::body> elements. 
        \
        {NOTE:: This method creates a (non-XML) HTML document.  To create 
                a XHTML document, use <M::DOMCore:DOMImplementation.
                createDocument> with a root element type 
                <Q::xhtml1:html> or with an appropriate document type 
                node. 
        \
        }
    
    @@For:
      ManakaiDOM:ManakaiDOMLatest
    
    @@Param:
      @@@Name:title
      @@@Type:
        DOMMain:DOMString
      @@@actualType:
        DOMMain:ManakaiDOMString
      @@@Description:
        @@@@lang:en
        @@@@@:
          The title of the document to create.  It is set as the content of 
          the <HE::title> element, through a child <IF::DOMCore:Text> node. 
    @@Return:
      @@@Type: HTMLDocument
      @@@actualType: ManakaiDOMHTMLDocument
      @@@Description:
        @@@@lang:en
        @@@@@:
          A newly created HTML document.
      @@@PerlDef:
          my $node = <ClassM::DOMCore:ManakaiDOMDocument.newObject>;
          $node->{<Q::DOMCore:implementation>} = $self;
          $node->{<Q::ManakaiDOM:implID>}
                = $self->{<Q::TreeCore:node>}->{<Q::ManakaiDOM:implID>};
          $node->{<Q::DOMCore:hasFeature>}->{HTML} = 1;
          my $cls = <ClassName::DOMCore:ManakaiDOMDocument>;
          $r = <Code::getWeakRef:: $object = $node, $class = $cls>;
          $r-><M::DOMCore:Node.appendChild>
                  (my $html = $r-><M::DOMCore:Document.createElement>
                                    ('HTML'));
          $html-><M::DOMCore:Node.appendChild>
                     (my $head = $r-><M::DOMCore:Document.createElement>
                                           ('HEAD'));
          $head-><M::DOMCore:Node.appendChild>
                     (my $titleEl = $r-><M::DOMCore:Document.createElement>
                                           ('TITLE'));
          if (length $title) {
            $titleEl-><M::DOMCore:Node.appendChild>
                         ($r-><M::DOMCore:Document.createTextNode> ($title));
          }
          $html-><M::DOMCore:Node.appendChild>
                     ($r-><M::DOMCore:Document.createElement>
                                           ('BODY'));
          $r = <ClassM::DOMCore:ManakaiDOMNode.getNodeReference> ($node);


  @Method:
    @@Name: createXHTMLDocument
    @@Description:
      @@@lang:en
      @@@@:
        Creates an <IF::HTMLDocument> object with the minimal tree 
        made of <HE::html>, <HE::head>, <HE::title> and <HE::body> elements
        and with the <Feature::XHTML> feature. 
        \
        {NOTE:: This method is <EM::manakai extension>.
        \
        }
    
    @@For:
      ManakaiDOM:ManakaiDOMLatest
    
    @@Param:
      @@@Name:title
      @@@Type:
        DOMMain:DOMString
      @@@Description:
        @@@@lang:en
        @@@@@:
          The title of the document to create.  It is set as the content of 
          the <HE::title> element, through a child <IF::DOMCore:Text> node. 
    @@Return:
      @@@Type: HTMLDocument
      @@@actualType: ManakaiDOMHTMLDocument
      @@@Description:
        @@@@lang:en
        @@@@@:
          A newly created HTML document.
      @@@PerlDef:
        __DEEP{
          my $node = <ClassM::DOMCore:ManakaiDOMDocument.newObject>;
          $node->{<Q::DOMCore:implementation>} = $self;
          $node->{<Q::ManakaiDOM:implID>}
                = $self->{<Q::TreeCore:node>}->{<Q::ManakaiDOM:implID>};
          $node->{<Q::DOMCore:hasFeature>}->{HTML} = 1;
          $node->{<Q::DOMCore:hasFeature>}->{XML} = 1;
          my $cls = <ClassName::DOMCore:ManakaiDOMDocument>;
          $r = <Code::getWeakRef:: $object = $node, $class = $cls>;
          $r-><M::DOMCore:Node.appendChild>
                  (my $html = $r-><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'html'));
          $html-><M::DOMCore:Element.setAttributeNS>
                  (<Q::xmlns:>, 'xmlns', <Q::xhtml1:>);
          $html-><M::DOMCore:Node.appendChild>
                     (my $head = $r-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'head'));
          $head-><M::DOMCore:Node.appendChild>
                     (my $titleEl = $r-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'title'));
          if (length $title) {
            $titleEl-><M::DOMCore:Node.appendChild>
                         ($r-><M::DOMCore:Document.createTextNode> ($title));
          }
          $html-><M::DOMCore:Node.appendChild>
                     ($r-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'body'));
          $r = <ClassM::DOMCore:ManakaiDOMNode.getNodeReference> ($node);
        }__;

ResourceDef:
  @QName: getWeakRef
  @AliasFor:
    ManakaiNode:getWeakRef::ManakaiDOM:Perl

IF:
  @Name:
    @@@: HTMLDocument
    @@ForCheck:
      ManakaiDOM:ForIF
  @ISA:
    @@@:
      DOMCore:Document
    @@ForCheck:
      ManakaiDOM:ForIF

  @QName:
    @@@: ManakaiDOMHTMLDocument
    @@ForCheck:
      ManakaiDOM:ForClass
  @ISA:
    @@@:
      DOMCore:ManakaiDOMDocument
    @@ForCheck:
      ManakaiDOM:ForClass

  @L1IF:

  @Description:
    @@lang:en
    @@@:
      The root of the HTML document and holds the entire content. 

  @s:rootElementType:
    @@@: html||ForHTML40SE
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
  @s:rootElementType:
    @@@: html||ForHTML401
    @@ForCheck: ManakaiDOM|DOM2
  @s:rootElementType:
    @@@: html||ForXHTML10SE
    @@ForCheck: ManakaiDOM|DOM2

  @ImplNote:
    @@doctype-public:
      -//W3C//DTD HTML 4.0//EN
    @@doctype-public:
      -//W3C//DTD HTML 4.0 Transitional//EN
    @@doctype-public:
      -//W3C//DTD HTML 4.0 Frameset//EN
    @@doctype-public:
      -//W3C//DTD HTML 4.01//EN
    @@doctype-public:
      -//W3C//DTD HTML 4.01 Transitional//EN
    @@doctype-public:
      -//W3C//DTD HTML 4.01 Frameset//EN
    @@doctype-public:
      -//W3C//DTD XHTML 1.0 Strict//EN
    @@doctype-public:
      -//W3C//DTD XHTML 1.0 Transitional//EN
    @@doctype-public:
      -//W3C//DTD XHTML 1.0 Frameset//EN
    @@ImplNote:
      @@@lang:en
      @@@@:
        TODO: doctype-system required

        mediatype : text/html, text/x-html

  @Attr:
     @@Name:  title
     @@Description:
       @@@lang:en
       @@@@:
         The title of a document, as specified by the <HE::title> element.
     @@Get:
        @@@Type:  DOMString
        @@@PerlDef:
          __DEEP{
            DOC: for my $child (@{$self-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE> and
                  <Code::isHTMLElement:: $elementNode = $child,
                                         $elementType = 'html'>) {
                for my $child (@{$child-><AG::DOMCore:Node.childNodes>}) {
                  if ($child-><AG::DOMCore:Node.nodeType> ==
                        <C::DOMCore:Node.ELEMENT_NODE> and
                      <Code::isHTMLElement:: $elementNode = $child,
                                             $elementType = 'head'>) {
                    for my $child (@{$child-><AG::DOMCore:Node.childNodes>}) {
                      if ($child-><AG::DOMCore:Node.nodeType> ==
                            <C::DOMCore:Node.ELEMENT_NODE> and
                          <Code::isHTMLElement:: $elementNode = $child,
                                                 $elementType = 'title'>) {
                        __CODE{DOMCore:getNodeTextContent::
                                 $node => $child,
                                 $result => $r}__;
                        last DOC;
                      }
                    }
                    last DOC; # xhtml1:title not found
                  }
                }
                last DOC; # xhtml1:head not found
              }
            }
          }__;
     @@Set:
        @@@Exception:
          @@@@@: 
            DOMCore:DOMException.NO_MODIFICATION_ALLOWED_ERR
          @@@@enDesc:
            Either the <HE::title> element is read-only, 
            there is no <HE::title> element and the <HE::head>
            element is read-only, there is no <HE::head>
            element and the <HE::html> element is read-only,
            or there is no <HE::html> element and the document
            node is read-only.
          @@@@ForCheck:
            ManakaiDOM:ManakaiDOM
        @@@Exception:
          @@@@@:
            MDOMX:MDOM_SECOND_DOC_ELEMENT
          @@@@enDesc:
            The document element (root element) of the document
            is not an <HE::html> element.
          @@@@ForCheck:
            ManakaiDOM:ManakaiDOM
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            The Spec. does not specify what has occured if
            there is no <HE::title> element.
        @@@Type:  DOMString
        @@@PerlDef:
          __DEEP{
            my $html;
            for my $child (@{$self-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE> and
                  <Code::isHTMLElement:: $elementNode = $child,
                                         $elementType = 'html'>) {
                $html = $child;
                last;
              }
            }
            unless ($html) {
              $html = $self-><M::DOMCore:Node.appendChild>
                                ($self-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'html'));
            }
            
            my $head;
            for my $child (@{$html-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE> and
                  <Code::isHTMLElement:: $elementNode = $child,
                                         $elementType = 'head'>) {
                $head = $child;
                last;
              }
            }
            unless ($head) {
              $head = $html-><M::DOMCore:Node.appendChild>
                                ($self-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'head'));
            }

            my $title;
            for my $child (@{$head-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE> and
                  <Code::isHTMLElement:: $elementNode = $child,
                                         $elementType = 'title'>) {
                $title = $child;
                last;
              }
            }
            unless ($title) {
              $title = $head-><M::DOMCore:Node.appendChild>
                                ($self-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'title'));
            }
            
            __CODE{DOMCore:setNodeTextContent::
                      $node => $title, $given => $given}__;
          }__;
  @Attr:
     @@Name:  referrer
     @@Description:
       @@@lang:en
       @@@@:
         The page that linked to this page.
     @@Type:
       DOMMain:DOMString
     @@actualType:
       DOMMain:RFC2396URI
     @@Get:
        @@@Description:
          @@@@lang:en
          @@@@@:
            The RFC 2396 URI of the page.
        @@@InCase:
          @@@@Value:\
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The user navigated to the page directly (not through a 
              link, but for example via bookmark).
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@GetProp:
            DOMHTML:referrer
  @Attr:
     @@Name:  domain
     @@Description:
       @@@lang:en
       @@@@:
         The domain name of the server that served the document.
     @@Get:
        @@@Type:  DOMString
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The server cannot be identified by a domain name.
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            ISSUE: What is allowed? FQDNs? Non-FQ domain names? 
            IPv4 addresses? IPv6 addresses with or without 
            brackets?
        @@@PerlDef:
            $r = null;
            if (defined $self->{<Q::TreeCore:node>}
                             ->{<Q::DOMCore:documentURI>}) {
              require URI;
              my $uri = URI->new ($self->{<Q::TreeCore:node>}
                                       ->{<Q::DOMCore:documentURI>});
              if ($uri->can ('host')) {
                $r = $uri->host;
                undef $r if defined $r and
                            (length $r == 0 or
                             substr ($r, 0, 1) eq '[');
              }
            }
  @Attr:
     @@Name:  URL
     @@Description:
       @@@lang:en
       @@@@:
         The absolute URI <SRC:RFC 2396> of the document.
     @@Get:
        @@@Type:  DOMString
        @@@actualType:
          DOMMain:RFC2396AbsoluteURI
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@GetProp:
            DOMCore:documentURI
  @Attr:
     @@Name:  body
     @@Description:
       @@@lang:en
       @@@@:
         The element that contains the content for the document. 
     @@ImplNote:
       @@@lang:en
       @@@@:
         ISSUE: Is returning <HA:frameset> is DOM Level 0 compatible?
     @@Get:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@:
            The <HA:body> element or the outermost <HA:frameset> element.
        @@@nullCase:
          @@@@enDesc:
            The document does not have the <HA::body> element
            nor a <HA::frameset> element.
        @@@PerlDef:
          __DEEP{
            DOC: for my $child (@{$self-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE> and
                  <Code::isHTMLElement:: $elementNode = $child,
                                         $elementType = 'html'>) {
                for my $child (@{$child-><AG::DOMCore:Node.childNodes>}) {
                  if ($child-><AG::DOMCore:Node.nodeType> ==
                        <C::DOMCore:Node.ELEMENT_NODE>) {
                    if (<Code::isHTMLElement:: $elementNode = $child,
                                               $elementType = 'body'> or
                        <Code::isHTMLElement:: $elementNode = $child,
                                               $elementType = 'frameset'>) {
                      $r = $child;
                      last DOC;
                    }
                  }
                }
                last DOC; # xhtml1:html not found
              }
            }
          }__;
     @@Set:
        @@@Type:  HTMLElement
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            ISSUE: Why this attribute is writable?  No exception?
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            What should be happen if non-<HE::body> and non-<HE::frameset>
            element is attempted to set?  A <C::DOMCore:DOMException
            .HIERARCHY_ERR>?  The current implementation
            does no check.
        @@@Exception:
          @@@@@: 
            DOMCore:DOMException.NO_MODIFICATION_ALLOWED_ERR
          @@@@enDesc:
            Either the <HE::html> element is read-only, 
            or there is no <HE::html> element and the document
            node is read-only.
          @@@@ForCheck:
            ManakaiDOM:ManakaiDOM
        @@@Exception:
          @@@@@:
            MDOMX:MDOM_SECOND_DOC_ELEMENT
          @@@@enDesc:
            The document element (root element) of the document
            is not an <HE::html> element.
          @@@@ForCheck:
            ManakaiDOM:ManakaiDOM
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            The Spec. does not specify what has occured if
            there is no <HE::html> element.
        @@@PerlDef:
          __DEEP{
            my $html;
            for my $child (@{$self-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE> and
                  <Code::isHTMLElement:: $elementNode = $child,
                                         $elementType = 'html'>) {
                $html = $child;
                last;
              }
            }
            unless ($html) {
              $html = $self-><M::DOMCore:Node.appendChild>
                                ($self-><M::DOMCore:Document.createElementNS>
                                           (<Q::xhtml1:>, 'html'));
            }
            
            my $body;
            for my $child (@{$html-><AG::DOMCore:Node.childNodes>}) {
              if ($child-><AG::DOMCore:Node.nodeType> ==
                    <C::DOMCore:Node.ELEMENT_NODE>) {
                if (<Code::isHTMLElement:: $elementNode = $child,
                                           $elementType = 'body'> or
                    <Code::isHTMLElement:: $elementNode = $child,
                                           $elementType = 'frameset'>) {
                  $body = $child;
                  last;
                }
              }
            }
            if ($body) {
              $html-><M::DOMCore:Node.replaceChild> ($body => $given);
            } else {
              $html-><M::DOMCore:Node.appendChild> ($given);
            }
          }__;
  @Attr:
     @@Name:  images
     @@Description:
       @@@lang:en
       @@@@:
         A collection of all the <HA:img> elements in a document.
       \
         {NOTE:: Only <HA:img> elements are contained for 
                 backward compatibility.
       \
         }
     @@Get:
        @@@Type:  HTMLCollection
        @@@actualType:
          ManakaiDOMHTMLCollection
        @@@PerlDef:
            my $chk;
            $chk = sub {
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getImages.#1"
                my ($self) = @_;
                if (<Code::isHTMLElemento:: $elementNodeo = $self,
                                            $elementType = 'img'>) {
                  return true;
                } else {
                  return false;
                }
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getImages.#2"
            };
            __DEEP{
              $r = $self->{<Q::TreeCore:node>}
                        -><M::ManakaiDOM:ManakaiDOMNodeObject
                            ::ManakaiDOM:Perl.newReference>
                                 (<ClassName::ManakaiDOMHTMLCollection>);
            }__;
            $r->{<Q::ManakaiDOMCore:nodeMatch>} = $chk;

  @Attr:
     @@Name:  applets
     @@Description:
       @@@lang:en
       @@@@:
         A collection of all <HA:object> elements that include 
         applets and <HA:applet> elements in the document.
     @@ImplNote:
       @@@lang:en
       @@@@:
         There might be compatibility problems, since 
         the two element types has different attribute sets. 
         Old (DOM Level 0) applications might not take 
         <HA:object> elements into consideration.
     @@Get:
        @@@Type:  HTMLCollection
        @@@actualType:
          ManakaiDOMHTMLCollection
        @@@PerlDef:
            my $chk;
            $chk = sub {
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getApplets.#1"
                my ($self) = @_;
                if (<Code::isHTMLElemento:: $elementNodeo = $self,
                                            $elementType = 'applet'>) {
                  return true;
                } elsif (<Code::isHTMLElemento:: $elementNodeo = $self,
                                                 $elementType = 'object'> and
                         $self->{<Q::DOMHTML:isApplet>}) {
                  return true;
                } else {
                  return false;
                }
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getApplets.#2"
            };
            __DEEP{
              $r = $self->{<Q::TreeCore:node>}
                        -><M::ManakaiDOM:ManakaiDOMNodeObject
                            ::ManakaiDOM:Perl.newReference>
                                 (<ClassName::ManakaiDOMHTMLCollection>);
            }__;
            $r->{<Q::ManakaiDOMCore:nodeMatch>} = $chk;

  @Attr:
     @@Name:  links
     @@Description:
       @@@lang:en
       @@@@:
         A collection of all <HA:a> and <HA:area> elements 
         in a document with a value for the <HA:href> attribute.
     @@Get:
        @@@Type:  HTMLCollection
        @@@actualType:
          ManakaiDOMHTMLCollection
        @@@PerlDef:
            my $chk;
            $chk = sub {
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getLinks.#1"
                my ($self) = @_;
                if (<Code::isHTMLElemento:: $elementNodeo = $self,
                                            $elementType = 'a'>) {
                  return true
                        if $self->{<Q::infoset:attributes>}
                                ->{<Q::null:>}->{href} or
                           $self->{<Q::infoset:attributes>}
                                ->{<Q::ManakaiDOM:noNS>}->{href};
                } elsif (<Code::isHTMLElemento:: $elementNodeo = $self,
                                                 $elementType = 'area'>) {
                  return true
                        if $self->{<Q::infoset:attributes>}
                                ->{<Q::null:>}->{href} or
                           $self->{<Q::infoset:attributes>}
                                ->{<Q::ManakaiDOM:noNS>}->{href};
                }
                return false;
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getLinks.#2"
            };
            __DEEP{
              $r = $self->{<Q::TreeCore:node>}
                        -><M::ManakaiDOM:ManakaiDOMNodeObject
                            ::ManakaiDOM:Perl.newReference>
                                 (<ClassName::ManakaiDOMHTMLCollection>);
            }__;
            $r->{<Q::ManakaiDOMCore:nodeMatch>} = $chk;

  @Attr:
     @@Name:  forms
     @@Description:
       @@@lang:en
       @@@@:
         A collection of all the forms of a document.
     @@ImplNote:
       @@@lang:en
       @@@@:
         It should be restricted for HTML <HA:form> elements. 
         Neither <HA:isindex> elements nor non-HTML form elements 
         should be contained.
     @@Get:
        @@@Type:  HTMLCollection
        @@@actualType:
          ManakaiDOMHTMLCollection
        @@@PerlDef:
            my $chk;
            $chk = sub {
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getForms.#1"
                my ($self) = @_;
                if (<Code::isHTMLElemento:: $elementNodeo = $self,
                                            $elementType = 'form'>) {
                  return true;
                } else {
                  return false;
                }
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getForms.#2"
            };
            __DEEP{
              $r = $self->{<Q::TreeCore:node>}
                        -><M::ManakaiDOM:ManakaiDOMNodeObject
                            ::ManakaiDOM:Perl.newReference>
                                 (<ClassName::ManakaiDOMHTMLCollection>);
            }__;
            $r->{<Q::ManakaiDOMCore:nodeMatch>} = $chk;
  @Attr:
     @@Name:  anchors
     @@Description:
       @@@lang:en
       @@@@:
         A collection of all the <HA:a> elements with a value 
         for the <HA:name> attribute in the document.
         \
         {NOTE:: The collection of this attribute only contains 
                 those anchors with <HA:name> attributes, 
                 not with the <HA:id> attributes, for backward 
                 compatibility.  XHTML 1.0 deprecates the use 
                 of the <HA:name> attribute.
         \
         }
     @@Get:
        @@@Type:  HTMLCollection
        @@@actualType:
          ManakaiDOMHTMLCollection
        @@@PerlDef:
            my $chk;
            $chk = sub {
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getAnchors.#1"
                my ($self) = @_;
                if (<Code::isHTMLElemento:: $elementNodeo = $self,
                                            $elementType = 'a'>) {
                  return true
                        if $self->{<Q::infoset:attributes>}
                                ->{<Q::null:>}->{name} or
                           $self->{<Q::infoset:attributes>}
                                ->{<Q::ManakaiDOM:noNS>}->{name};
                }
                return false;
        \#line 1 "DOMHTML.ManakaiDOMHTMLElement.getAnchors.#2"
            };
            __DEEP{
              $r = $self->{<Q::TreeCore:node>}
                        -><M::ManakaiDOM:ManakaiDOMNodeObject
                            ::ManakaiDOM:Perl.newReference>
                                 (<ClassName::ManakaiDOMHTMLCollection>);
            }__;
            $r->{<Q::ManakaiDOMCore:nodeMatch>} = $chk;

  @Attr:
     @@Name:  cookie
     @@Description:
       @@@lang:en
       @@@@:
         The cookie, persistent state information associated 
         with the current frame or document <SRC:RFC 2965>.
         \
         {NOTE:: The precise nature of a UA session is not 
                 defined.
         \
         }
     @@Get:
        @@@Type:  DOMString
        @@@actualType: RFC2965Cookies
        @@@Description:
          @@@@lang:en
          @@@@@:
            A single string with each cookie's name-value pair 
            separated by a <CHAR:SEMICOLON>.
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            It is maybe RFC 2965 <CODE:cookies>.
        @@@InCase:
          @@@@Value:\
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              No cookie is available for the current frame or document.
     @@Set:
        @@@Type:  DOMString
        @@@actualType: RFC2965Cookie
        @@@Description:
          @@@@lang:en
          @@@@@:
            A single name-value pair followed by zero or more 
            cookie attribute values (RFC 2965 <CODE:cookie>). 
            \
            If no <CODE:domain> attribute is specified, 
            it defaults to the <CODE:host> portion of an 
            RFC 2396 absolute URI of the current frame or document.
            \
            If no <CODE:path> attribute is specified, it defaults 
            to the absolute <CODE:path> portion of an 
            RFC 2396 absolute URI of the current frame or document.
            \
            If no <CODE:max-age> attribute is specified, it 
            defaults to a UA defined value.
            \
            If a <CODE:cookie> with the specified name is already 
            associated, the new value as well as the new attributes 
            replace the old ones.  If the <CODE:max-age> attribute 
            value is <CODE:0>, any existing cookies of the specified 
            name are removed.
        @@@Exception:
          @@@@@:
            ManakaiDOMHTML:MDOMHTML_BAD_COOKIE
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The new value does not adhere to the 
              RFC 2965 <CODE:cookie>.
  @Method:
     @@Name:  open
     @@Description:
       @@@lang:en
       @@@@:
         Open a document stream for writing.  If a document 
         exists in the target, this method clears it.
     @@Return:  
  @Method:
     @@Name:  close
     @@Description:
       @@@lang:en
       @@@@:
         Close a document stream opened by the <M:open> method 
         and force rendering.
     @@Return:  
  @Method:
     @@Name:  write
     @@Description:
       @@@lang:en
       @@@@:
         Write a string to a document stream opened by <M:open>.
     @@ImplNote:
       @@@lang:en
       @@@@:
         This method might produce a document that is invalid.
     @@Param:
        @@@Name:  text
        @@@Type:  DOMString
        @@@Description:
          @@@@lang:en
          @@@@@:
            The string to be parsed into some structure in 
            the document structure model.
     @@Return:  
  @Method:
     @@Name:  writeln
     @@Description:
       @@@lang:en
       @@@@:
         Write a string followed by a newline character 
         to a document stream opened by the <M:open> method.
     @@Param:
        @@@Name:  text
        @@@Type:  DOMString
        @@@Description:
          @@@@lang:en
          @@@@@:
            The string to be parsed into some structure in 
            the document structure model.
     @@Return:  
  @Method:
     @@Name:  getElementsByName
     @@Description:
       @@@lang:en
       @@@@:
         With HTML 4 documents: return a collection of elements 
         with matching name.
       \
         With XHTML 1 documents: return a collection of form controls 
         with matching name.
     @@Param:
        @@@Name:  elementName
        @@@Type:  DOMString
        @@@Description:
          @@@@lang:en
          @@@@@:
            The <HA:name> of the element.  The matching is 
            case-sensitive.
     @@Return:
        @@@Type:  NodeList
        @@@Description:
          @@@@lang:en
          @@@@@:
            A collection of the element whose <HA:name> matches 
            with <P:elementName>.
  @Method:
    @@Name:getElementById
    @@Description:
      @@@lang:en
      @@@@:
        Return the <IF:Element> whose <A:id> is given by 
        <P:elementId>.  Behavior is not defined if more than 
        one elements has this <P:elementId>.
        \
        {NOTE:: This method was first defined in the <IF:HTMLDocument> 
                interface of DOM Level 1 but it has moved to 
                the <Module:DOMCore> module in DOM Level 2.
        \
        }
    @@Param:
      @@@Name:elementId
      @@@Type:
        DOMMain:DOMString
      @@@Description:
        @@@@lang:en
        @@@@@:
          The unique identifier of the element to retrieve.
    @@Return:
      @@@Type:
        DOMCore:Element
      @@@Description:
        @@@@lang:en
        @@@@@:The matching element.
      @@@disDef:
        @@@@DISPerl:cloneCode:
          DOMCore:ManakaiDOMElement::ManakaiDOM:ManakaiDOMLatest.getElementById
    @@DOMMain:implementFeature:
      HTMLFeature10
    @@For:
      ManakaiDOM:DOM1 !ManakaiDOM:DOM2
  @ImplNote:
    @@lang:en
    @@@:
      {P:: The following properties in DOM Level 0 have been deprecated 
      by DOM HTML Specifications in favor of the corresponding 
      attributes in <IF:HTMLBodyElement> interface:
      \
        - <A:alinkColor>
        \
        - <A:background>
        \
        - <A:bgColor>
        \
        - <A:fgColor>
        \
        - <A:linkColor>
        \
        - <A:vlinkColor>
      \
      }
##HTMLDocument

ElementTypeBinding:
  @Name: PropDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      rdf:Property
    @@AliasFor: 
      @@@@:
        ::ManakaiDOM:all
      @@@For:
        !=ManakaiDOM:all

PropDef:
  @QName: isApplet
  @FullName:
    @@lang:en
    @@@: Is a Java applet
  @rdfs:domain:
    xhtml:object
  @Description:
    @@lang:en
    @@@:
      Whether an <HA::object> element is a Java applet or not. 

ElementTypeBinding:
  @Name: StringDataTypeDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:DataType
    @@AliasFor: 
      @@@@:
        ::ManakaiDOM:all
      @@@For:
        !=ManakaiDOM:all

StringDataTypeDef:
  @QName: RFC2965Cookies
  @FullName:
    @@lang:en
    @@@:
      RFC 2965 <CODE::cookies>

StringDataTypeDef:
  @QName: RFC2965Cookie
  @FullName:
    @@lang:en
    @@@:
       RFC 2965 <CODE::cookie>

ImplNote:
  @lang:en
  @@:
    DOM attributes corresponding to HTML attributes have 
    the semantic (including case-sensitivity) given in 
    the HTML 4 and XHTML 1.0 specifications.
    \
    Exposing HTML attributes is for compatibility with DOM Level 0; 
    this usage is deprecated by DOM Level 1 and 2 HTML specitications.
    \
    {FIG: HTML Data Types and DOM Data Types
       \
       - <SGML:CDATA>:: <TYPE:DOMString>.
                        (Default of default: an empty string)
       \
       - Enumerated values:: <TYPE:DOMString>. 
                             (Normalized to lowercase in HTML. 
                              Default of default: an empty string)
       \
       - Boolean:: <TYPE:boolean>. (Default of default: <DOM:false>.
       \
       - <SGML:NUMBER>:: <TYPE:long>. (Default of default: <DOM:0>.)
       \
    }
    \
    Element type names in HTML 4 documents (exposed through 
    such as <A:Element.tagName>) are normalized in 
    uppercase.  No specification for attribute names - it maybe 
    should be in lowercase for compatibility.

IF:
  @Name:
    @@@: HTMLElement
    @@ForCheck:
      ManakaiDOM:ForIF
  @ISA:
    @@@: 
      DOMCore:Element
    @@ForCheck:
      ManakaiDOM:ForIF

  @L1IF:

  @QName:
    @@@: ManakaiDOMHTMLElement
    @@ForCheck:
      ManakaiDOM:ForClass
  @ISA:
    @@@:
      DOMCore:ManakaiDOMElement
    @@ForCheck:
      ManakaiDOM:ForClass

  @Description:
    @@lang:en
    @@@:
      An HTML element.  All specific HTML element interfaces 
      are derived from this interface.

  @s:elementType:
    @@@:
      AnyHTMLElement::ForHTML40SE
    @@ForCheck:
      ManakaiDOM:DOM1 !ManakaiDOM:DOM2
  @s:elementType:
    @@@:
      AnyHTMLElement::ForHTML401
    @@ForCheck: 
      ManakaiDOM:DOM2
  @s:elementType:
    @@@:
      AnyHTMLElement::ForXHTML10SE
    @@ForCheck:
      ManakaiDOM:DOM2

  @ImplNote:
    @@QName:
      xhtml1:sub
  \##TODO: rewrite this
    @@html-element-type:sup
    @@html-element-type:span
    @@html-element-type:bdo
    @@html-element-type:tt
    @@html-element-type:i
    @@html-element-type:b
    @@html-element-type:u
    @@html-element-type:s
    @@html-element-type:strike
    @@html-element-type:big
    @@html-element-type:small
    @@html-element-type:em
    @@html-element-type:strong
    @@html-element-type:dfn
    @@html-element-type:code
    @@html-element-type:samp
    @@html-element-type:kbd
    @@html-element-type:var
    @@html-element-type:cite
    @@html-element-type:acronym
    @@html-element-type:abbr
    @@html-element-type:dd
    @@html-element-type:dt
    @@html-element-type:noframes
    @@html-element-type:noscript
    @@html-element-type:address
    @@html-element-type:center

  @ImplNote:
    @@lang:en
    @@@:
      The DOM Level 1 First and Second Editions said that the <HE:head> 
      element belongs to this category - it is considered as 
      an error, since there is the <IF:HTMLHeadElement>.

  @Attr:
     @@Name:  id
     @@DocAttr1:
       id::ForHTML40SE
     @@DocAttr2S:
       id::ForHTML401
     @@DocAttr2X:
       id::ForXHTML10SE
     @@ReflectCDATA:
     @@Get:
     @@Set:
    @@ImplNote:
      @@@lang:en
      @@@@:
        Some element in HTML 4/XHTML 1.0 does not have <HA:class> attribute.
  @Attr:
     @@Name:  title
     @@DocAttr1:
       title::ForHTML40SE
     @@DocAttr2S:
       title::ForHTML401
     @@DocAttr2X:
       title::ForXHTML10SE
     @@ReflectCDATA:
     @@Get:
     @@Set:
    @@ImplNote:
      @@@lang:en
      @@@@:
        Some element in HTML 4/XHTML 1.0 does not have <HA:class> attribute.
  @Attr:
     @@Name:  lang
     @@DocAttr1:
       lang::ForHTML40SE
     @@DocAttr2S:
       lang::ForHTML401
     @@DocAttr2X:
       lang::ForXHTML10SE
     @@ReflectCDATA:
     @@Get:
     @@Set:
    @@ImplNote:
      @@@lang:en
      @@@@:
        Some element in HTML 4/XHTML 1.0 does not have <HA:class> attribute.
  @Attr:
     @@Name:  dir
     @@DocAttr1:
       dir::ForHTML40SE
     @@DocAttr2S:
       dir::ForHTML401
     @@DocAttr2X:
       dir::ForXHTML10SE
     @@ReflectCDATA:
     @@Get:
     @@Set:
    @@ImplNote:
      @@@lang:en
      @@@@:
        Some element in HTML 4/XHTML 1.0 does not have <HA:class> attribute.
  @Attr:
     @@Name:  className
     @@DocAttr1:
       class::ForHTML40SE
     @@DocAttr2S:
       class::ForHTML401
     @@DocAttr2X:
       class::ForXHTML10SE
     @@ReflectCDATA:
     @@Get:
     @@Set:
    @@ImplNote:
      @@@lang:en
      @@@@:
        Some element in HTML 4/XHTML 1.0 does not have <HA:class> attribute.

  @ImplNote:
    @@lang:en
    @@@:
      The <A:HTMLElement.style> is reserved by DOM Level 1 First Edition 
      for future use.  It is used later in DOM Level 2 CSS Module.
##HTMLElement

ElementTypeBinding:
  @Name: ReflectCDATA
  @ElementType:
    dis:Type
  @ShadowContent:
    @@@: DOMString
  @ShadowSibling:
    @@actualType: CDATADOMString

ElementTypeBinding:
  @Name: ReflectURI
  @ElementType:
    dis:Type
  @ShadowContent:
    @@@: DOMString
  @ShadowSibling:
    @@actualType: URIDOMString

ElementTypeBinding:
  @Name: ReflectEnum
  @ElementType:
    dis:Type
  @ShadowContent:
    @@@: DOMString
  @ShadowSibling:
    @@actualType: EnumDOMString

ElementTypeBinding:
  @Name: ReflectBoolean
  @ElementType:
    dis:Type
  @ShadowContent:
    @@@: DOMMain|boolean||ManakaiDOM|all
  @ShadowSibling:
    @@actualType: Boolean

ElementTypeBinding:
  @Name: ReflectNumeric
  @ElementType:
    dis:Type
  @ShadowContent:
    @@@: DOMMain|long||ManakaiDOM|all
  @ShadowSibling:
    @@actualType: Numeric

ElementTypeBinding:
  @Name: DocAttr1
  @ElementType:
    dis:DocAttr
  @ShadowContent:
    @@ForCheck:
      ManakaiDOM:DOM1 !ManakaiDOM:DOM2
ElementTypeBinding:
  @Name: DocAttr2S
  @ElementType:
    dis:DocAttr
  @ShadowContent:
    @@ForCheck:
      ManakaiDOM:DOM2
ElementTypeBinding:
  @Name: DocAttr2X
  @ElementType:
    dis:DocAttr
  @ShadowContent:
    @@ForCheck:
      ManakaiDOM:DOM2

ResourceDef:
  @QName: AnyHTMLElement
  @enDesc:
    Any HTML element types.
  @rdf:type:
    s:AnyElementInNS
  @AppName:
    @@@:
      xhtml1:*
    @@ContentType:
      dis:TypeQName
  @ForCheck: ForHTML

  ## TODO: Move to attribute set

  @AttrDef:
    @@QName: dir
  @AttrDef:
    @@QName: id
  @AttrDef:
    @@QName: lang
    @@DeprecatedBy:
      DOMHTML:XHTML1.0
  @AttrDef:
    @@QName: class
  @AttrDef:
    @@QName: title

ElementTypeBinding:
  @Name: AttrDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      s:Attribute

ResourceDef:
  @QName: isHTMLElement
  @rdf:type:
    dis2pm:InlineCode
  @enDesc:
    Tests whether this is an HTML element of the given type or not.
  @Param:
    @@Name: elementNode
    @@Type: 
      DOMCore:Element
    @@enDesc:
      The element node to test.
  @Param:
    @@Name: elementType
    @@Type: 
      DOMMain:DOMString
    @@enDesc:
      The element type name to test.
  @PerlDef:
      do {
          my $__ln = $elementNode->{<Q::TreeCore:node>}
                                 ->{<Q::infoset:localName>};
          if (defined $__ln) {  ## Namespace-aware node
            my $__ns = $elementNode->{<Q::TreeCore:node>}
                                   ->{<Q::infoset:namespaceName>};
            if ($__ns eq <Q::xhtml1:> or
                (not defined $__ns and
                 $elementNode->{<Q::TreeCore:node>}
                             ->{<Q::DOMCore:ownerDocument>}
                             ->{<Q::DOMCore:hasFeature>}
                      ->{HTML})) {
              $elementType eq $__ln ? true : false;
            } else {
              false;
            }
          } elsif ($elementNode->{<Q::TreeCore:node>}
                        ->{<Q::DOMCore:ownerDocument>}->{<Q::DOMCore:hasFeature>}
                        ->{HTML}) {
            if ($elementNode->{<Q::TreeCore:node>}
                        ->{<Q::DOMCore:ownerDocument>}->{<Q::DOMCore:hasFeature>}
                        ->{XML}) {
              $elementType eq $elementNode-><AG::DOMCore:Node.nodeName>
                 ? true : false;
            } else {
              $elementType eq lc ($elementNode-><AG::DOMCore:Node.nodeName>)
                 ? true : false;
            }
          } else {
            false;
          }
      }

ResourceDef:
  @QName: isHTMLElemento
  @rdf:type:
    dis2pm:InlineCode
  @enDesc:
    Tests whether this is an HTML element of the given type or not.
  @Param:
    @@Name: elementNodeo
    @@Type: 
      ManakaiDOM:ManakaiDOMNodeObject::ManakaiDOM:Perl
    @@enDesc:
      The element node to test.
  @Param:
    @@Name: elementType
    @@Type: 
      DOMMain:DOMString
    @@enDesc:
      The element type name to test.
  @PerlDef:
      do {
          my $__ln = $elementNodeo->{<Q::infoset:localName>};
          if (defined $__ln) {  ## Namespace-aware node
            my $__ns = $elementNodeo->{<Q::infoset:namespaceName>};
            if ($__ns eq <Q::xhtml1:> or
                (not defined $__ns and
                 $elementNodeo->{<Q::DOMCore:ownerDocument>}
                      ->{<Q::DOMCore:hasFeature>}
                      ->{HTML})) {
              $elementType eq $__ln ? true : false;
            } else {
              false;
            }
          } elsif ($elementNodeo
                        ->{<Q::DOMCore:ownerDocument>}->{<Q::DOMCore:hasFeature>}
                        ->{HTML}) {
            my $elClass = <ClassName::DOMCore:ManakaiDOMElement>;
            my $elementNode = <Code::ManakaiNode:getWeakRef
                                   ||ManakaiDOM:Perl::
              $object = $elementNodeo,
              $class = $elClass,
            >;
            if ($elementNodeo
                        ->{<Q::DOMCore:ownerDocument>}->{<Q::DOMCore:hasFeature>}
                        ->{XML}) {
              $elementType eq $elementNode-><AG::DOMCore:Node.nodeName>
                 ? true : false;
            } else {
              $elementType eq lc ($elementNode-><AG::DOMCore:Node.nodeName>)
                 ? true : false;
            }
          } else {
            false;
          }
      }


ElementTypeBinding:
  @Name: enDesc
  @ElementType:
    dis:Description
  @ShadowContent:
    @@lang:en

ET:
  @ETQName:
    xhtml1:html
  @QName:
    @@@: html
    @@ForCheck: s|ForML

  @IFQName:
    @@@: HTMLHtmlElement
  @ClsQName:
    @@@: ManakaiDOMHTMLHtmlElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  version
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:head
  @IFQName:
    @@@: HTMLHeadElement
  @ClsQName:
    @@@: ManakaiDOMHTMLHeadElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  profile
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:link
  @IFQName:  
    @@@: HTMLLinkElement
  @ClsQName:
    @@@: ManakaiDOMHTMLLinkElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  disabled
     @@Description:
       @@@lang:en
       @@@@:
         Whether the link is enabled or not.  This is currently 
         only used for style sheet links and may be used to 
         activate or deactivate the style sheet.
     @@Get:
        @@@Type:
           DOMMain:boolean
        @@@InCase:
           @@@@Value:  true
           @@@@Description:
             @@@@@lang:en
             @@@@@@:
               The link is disabled.
        @@@InCase:
           @@@@Value:  false
           @@@@Description:
             @@@@@lang:en
             @@@@@@:
               The link is enabled.
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@GetProp:
            DOMHTML:disabled
     @@Set:
        @@@Type:
           DOMMain:boolean
        @@@InCase:
           @@@@Value:  true
           @@@@Description:
             @@@@@lang:en
             @@@@@@:
               The link is disabled.
        @@@InCase:
           @@@@Value:  false
           @@@@Description:
             @@@@@lang:en
             @@@@@@:
               The link is enabled.
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@SetProp:
            DOMHTML:disabled
    @@ImplNote:
      @@@lang:en
      @@@@:
        A version of WinIE 3 has a <HA::disable> attribute by mistake. 
  @ATTR:
     @@Name:  charset
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  href
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  hreflang
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  media
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  rel
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  rev
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  target
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  type
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLLinkElement

ET:
  @ETQName:
    xhtml1:title
  @IFQName:
    @@@: HTMLTitleElement
  @ClsQName:
    @@@: ManakaiDOMHTMLTitleElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  text
     @@Description:
       @@@lang:en
       @@@@:
         The title.
     @@Get:
        @@@Type:  DOMString
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@DISPerl:cloneCode:
            DOMCore:ManakaiDOMNode::ManakaiDOM:ManakaiDOMLatest.textContent.get
     @@Set:
        @@@Type:  DOMString
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@DISPerl:cloneCode:
            DOMCore:ManakaiDOMNode::ManakaiDOM:ManakaiDOMLatest.textContent.set
##IF:HTMLTitleElement

ET:
  @ETQName:
    xhtml1:meta
  @IFQName:
    @@@: HTMLMetaElement
  @ClsQName:
    @@@: ManakaiDOMHTMLMetaElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  content
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:
       @@@@: http-equiv
     @@DOMAName:
       @@@@: httpEquiv
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  scheme
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:base
  @IFQName:
    @@@: HTMLBaseElement
  @ClsQName:
    @@@: ManakaiDOMHTMLBaseElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  href
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  target
     @@ReflectCDATA:
     @@Get:
     @@Set:

ElementTypeBinding:
  @Name: ISAHTMLElement
  @ElementType:
    dis:ISA
  @ShadowContent:
    @@@: HTMLElement
    @@ForCheck:
      ManakaiDOM:ForIF
  @ShadowSibling:
    @@ISA:
      @@@@: ManakaiDOMHTMLElement
      @@@ForCheck:
        ManakaiDOM:ForClass

ET:
  @ETQName:
    xhtml1:isindex
  @IFQName:
    @@@: HTMLIsIndexElement
  @ClsQName:
    @@@: ManakaiDOMHTMLIsIndexElement
  @ISAHTMLElement:
  @L1IF:

  @ForCheck: !ForXHTML11

  @Attr:
     @@Name:  form
     @@Description:
       @@@lang:en
       @@@@:
         The <HE:form> element containing this element.
         \
         {NOTE:: Although DOM has this attribute, the <HE:isindex> 
                 is independent from any <HE:form> by definition.
         \
         }
     @@Get:
        @@@Type:  
          DOMHTML:HTMLFormElement
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              This element is not within the context of a form.
       @@@disDef:
         @@@@DISLang:nop:
  @ATTR:
     @@Name:  prompt
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:

ElementTypeBinding:
  @Name: disDef
  @ElementType:
    dis:Def
  @ShadowContent:
    @@ContentType:
      lang:dis

ElementTypeBinding:
  @Name: ETQName
  @ElementType:
    dis:AppName
  @ShadowContent:
    @@ForCheck:
      s:ForML
    @@ContentType:
      dis:TypeQName

ElementTypeBinding:
  @Name: IFQName
  @ElementType:
    dis:QName
  @ShadowContent:
    @@ForCheck:
      ManakaiDOM:ForIF
ElementTypeBinding:
  @Name: ClsQName
  @ElementType:
    dis:QName
  @ShadowContent:
    @@ForCheck:
      ManakaiDOM:ForClass

ET:
  @ETQName:
    xhtml1:style
  @IFQName: HTMLStyleElement
  @ClsQName: ManakaiDOMHTMLStyleElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  disabled
     @@Description:
       @@@lang:en
       @@@@:
         Whether the style sheet is enabled or not.
     @@Get:
        @@@Type:
           DOMMain:boolean
        @@@InCase:
           @@@@Value:  true
           @@@@Description:
             @@@@@lang:en
             @@@@@@:The style sheet is disabled.
        @@@InCase:
           @@@@Value:  false
           @@@@Description:
             @@@@@lang:en
             @@@@@@:The style sheet is enabled.
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@GetProp:
            DOMHTML:disabled
     @@Set:
        @@@Type:
           DOMMain:boolean
        @@@InCase:
           @@@@Value:  true
           @@@@Description:
             @@@@@lang:en
             @@@@@@:The style sheet is disabled.
        @@@InCase:
           @@@@Value:  false
           @@@@Description:
             @@@@@lang:en
             @@@@@@:The style sheet is enabled.
        @@@Def:
          @@@@ContentType:
            lang:dis
          @@@@SetProp:
            DOMHTML:disabled
  @ATTR:
     @@Name:  media
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  type
     @@ReflectCDATA:
     @@Get:
     @@Set:

PropDef:
  @QName: disabled
  @enDesc:
    <A::.disabled>.

ElementTypeBinding:
  @Name: DOMAName
  @ElementType:
    dis:Name
  @ShadowContent:
    @@ForCheck:
      ManakaiDOM:DOM
ElementTypeBinding:
  @Name: AName
  @ElementType:
    dis:Name
  @ShadowContent:
    @@ForCheck:
      s:ForML

IF:
  @IFQName: HTMLStrictlyInlineContainerExtended
  @ClsQName: ManakaiDOMHTMLStrictlyInlineContainerExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @Method:
    @@Name: appendNewAnchor
    @@enDesc:
      Appends a new <HE::a> element.
    @@Param:
      @@@Name: hrefArg
      @@@Type: DOMString
      @@@enDesc:
        A URI reference to be set to the <HA::href> attribute
        of the newly created element.
    @@Param:
      @@@Name: textArg
      @@@Type: DOMString
      @@@enDesc:
        Text content of the newly created element.
      @@@nullCase:
        @@@@enDesc: No text node is added.
    @@Param:
      @@@Name: classArg
      @@@Type: DOMString
      @@@enDesc:
        A space-separeted list of classes to be set to
        the <HA::class> attribute of the newly created element.
      @@@nullCase:
        @@@@enDesc:
          No class is set.
      @@@ImplNote:
        @@@@lang:en
        @@@@@:
          <IF::DOMTokenString> and <IF::DOMStringList> shuld also be supported.
    @@Return:
      @@@Type: HTMLAnchorElement
      @@@enDesc:
        The newly created <HE::a> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'a'));
          $r-><AS::HTMLAnchorElement.href> ($hrefArg);
          if (defined $textArg) {
            $r-><AS::DOMCore:Node.textContent> ($textArg);
          }
          if (defined $classArg) {
            $r-><AS::HTMLElement.className> ($classArg);
          }
        }__;

  @Method:
    @@Name: appendNewAbbr
    @@enDesc:
      Appends a new <HE::abbr> element.
    @@Param:
      @@@Name: shortForm
      @@@Type: DOMString
      @@@enDesc:
        Text content of the newly created element.
      @@@nullCase:
        @@@@enDesc: No text node is added.
    @@Param:
      @@@Name: longForm
      @@@Type: DOMString
      @@@enDesc:
        A text to be set to the <HA::title> attribute
        of the newly created element.
      @@@nullCase:
        @@@@enDesc: No long form.
    @@Param:
      @@@Name: classArg
      @@@Type: DOMString
      @@@enDesc:
        A space-separeted list of classes to be set to
        the <HA::class> attribute of the newly created element.
      @@@nullCase:
        @@@@enDesc:
          No class is set.
    @@Return:
      @@@Type: HTMLElement
      @@@enDesc:
        The newly created <HE::abbr> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'abbr'));
          if (defined $shortForm) {
            $r-><AS::DOMCore:Node.textContent> ($shortForm);
          }
          if (defined $longForm) {
            $r-><AS::HTMLElement.title> ($longForm);
          }
          if (defined $classArg) {
            $r-><AS::HTMLElement.className> ($classArg);
          }
        }__;

  @Method:
    @@Name: appendNewDfn
    @@enDesc:
      Appends a new <HE::dfn> element.
    @@Param:
      @@@Name: textArg
      @@@Type: DOMString
      @@@enDesc:
        Text content of the newly created element.
      @@@nullCase:
        @@@@enDesc: No text node is added.
    @@Param:
      @@@Name: titleArg
      @@@Type: DOMString
      @@@enDesc:
        A definitive word to be set to
        the <HA::title> attribute of the newly created element.
      @@@nullCase:
        @@@@enDesc:
          No title is set.
    @@Param:
      @@@Name: classArg
      @@@Type: DOMString
      @@@enDesc:
        A space-separeted list of classes to be set to
        the <HA::class> attribute of the newly created element.
      @@@nullCase:
        @@@@enDesc:
          No class is set.
    @@Return:
      @@@Type: HTMLElement
      @@@enDesc:
        The newly created <HE::dfn> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'dfn'));
          if (defined $textArg) {
            $r-><AS::DOMCore:Node.textContent> ($textArg);
          }
          if (defined $titleArg) {
            $r-><AS::HTMLElement.title> ($titleArg);
          }
          if (defined $classArg) {
            $r-><AS::HTMLElement.className> ($classArg);
          }
        }__;
  
  @enImplNote:
    {TODO::
      <P::classArg>s should also accept <IF::DOMTokenString> (HTML5)
      and <IF::DOMStringList> (DOM3) and any Perl array references.
      (Pending until the publication of a fixed draft of HTML5)
    }

  @Method:
    @@Name: appendNewPhrase
    @@enDesc:
      Appends a new phrase element or text.
    @@Param:
      @@@Name: namespaceNameArg
      @@@Type: DOMString
      @@@enDesc:
        Element type namespace URI.
      @@@nullCase:
        @@@@enDesc:
          The HTML namespace URI, <URI::http://www.w3.org/1999/xhtml>,
          is assumed.
          \
          {NOTE:: The <DOM::null> namespace is not supported.
          }
    @@Param:
      @@@Name: localNameArg
      @@@Type: DOMString
      @@@enDesc:
        Element type local name. 
      @@@nullCase:
        @@@@enDesc:
          No element is added and the <P::namespaceNameArg> is ignored.
    @@Param:
      @@@Name: textArg
      @@@Type: DOMString
      @@@enDesc:
        Text content of the newly created element.
        If <P::localNameArg> is <DOM::null>, the <P::textArg>
        is directly appended to this element as a new <IF::Text> node.
      @@@nullCase:
        @@@@enDesc: No text node is added.
    @@Param:
      @@@Name: classArg
      @@@Type: DOMString
      @@@enDesc:
        A space-separeted list of classes to be set to
        the <HA::class> attribute of the newly created element. 
        If the <P::localNameArg> is <DOM::null>, this parameter
        is ignored.
      @@@nullCase:
        @@@@enDesc:
          No class is set.
    @@Return:
      @@@Type: HTMLElement
      @@@enDesc:
        The newly created element.
      @@@nullCase:
        @@@@enDesc:
          If <P::localNameArg>
          is <DOM::null>.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@RaiseException:
        @@@@@: DOMCore|DOMException.INVALID_CHARACTER_ERR
        @@@@enDesc:
          <P::localNameArg> is not a legal <CODE::Name>
          of the markup language in use.
      @@@RaiseException:
        @@@@@: DOMCore|DOMException.NAMESPACE_ERR
        @@@@enDesc:
          <P::localNameArg> is not a legal <CODE::NCName>
          of the XML version in use.
      @@@PerlDef:
        __DEEP{
          if (defined $localNameArg) {
            $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (defined $namespaceNameArg 
                                       ? $namespaceNameArg : <Q::xhtml1:>,
                                     $localNameArg));
            if (defined $textArg) {
              $r-><AS::DOMCore:Node.textContent> ($textArg);
            }
            if (defined $classArg) {
              $r-><AS::HTMLElement.className> ($classArg);
            }
          } else {
            $self-><M::DOMCore:Node.appendChild>
                     ($self-><AG::DOMCore:Node.ownerDocument>
                           -><M::DOMCore:Document.createTextNode> ($textArg));
          }
        }__;
##HTMLStrictlyInlineContainerExtended

ClsOnly:
  @For: ManakaiDOM|ManakaiDOMLatest
  @ClsQName: ManakaiDOMHTMLStrictlyInlineElementExtended
  @ClsISA: ManakaiDOMHTMLStrictlyInlineContainerExtended
  @ClsISA: ManakaiDOMHTMLElement

  @enDesc:
    Strictly inline-level content elements whose content
    is also strictly inline-level content.

  @enImplNote:
    Future version of manakai might split this class into
    indivisual element type classes.

  @s:elementType: em||ForHTML5
  @s:elementType: small||ForHTML5
  @s:elementType: i||ForHTML5
  @s:elementType: var||ForHTML5
  @s:elementType: kbd||ForHTML5
  @s:elementType: sup||ForHTML5
  @s:elementType: sub||ForHTML5
  @s:elementType: cite||ForHTML5
  @s:elementType: abbr||ForHTML5
  @s:elementType: dfn||ForHTML5
##HTMLStrictlyInlineElementExtended

ResourceDef:
  @QName: em
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|em

ResourceDef:
  @QName: small
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|small

ResourceDef:
  @QName: i
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|i

ResourceDef:
  @QName: var
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|var

ResourceDef:
  @QName: kbd
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|kbd

ResourceDef:
  @QName: sup
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|sup

ResourceDef:
  @QName: sub
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|sub

ResourceDef:
  @QName: cite
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|cite

ResourceDef:
  @QName: abbr
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|abbr

ResourceDef:
  @QName: dfn
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|dfn

IF:
  @IFQName: HTMLStructuredInlineContainerExtended
  @ClsQName: ManakaiDOMHTMLStructuredInlineContainerExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @Method:
    @@Name: appendNewUl
    @@enDesc:
      Appends a new empty <HE::ul> element.
    @@enImplNote:
      Array containing items should be accepted as a parameter?
    @@Return:
      @@@Type: HTMLUListElement
      @@@enDesc:
        The newly created <HE::ul> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'ul'));
        }__;

  @Method:
    @@Name: appendNewDl
    @@enDesc:
      Appends a new empty <HE::dl> element.
    @@enImplNote:
      Array containing items should be accepted as a parameter?
    @@Return:
      @@@Type: HTMLDListElement
      @@@enDesc:
        The newly created <HE::dl> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'dl'));
        }__;


  @Method:
    @@Name: appendNewTable
    @@enDesc:
      Appends a new empty table whose only child is a <HE::tbody> element.
    @@enImplNote:
      Array containing items should be accepted as a parameter?
      Caption? Row & Col number?
    @@Return:
      @@@Type: HTMLTableElement
      @@@enDesc:
        The newly created <HE::table> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          my $od = $self-><AG::DOMCore:Node.ownerDocument>;
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $od-><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'table'));
          $r-><M::DOMCore:Node.appendChild>
                     ($od-><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'tbody'));
        }__;
##StructuredInlineContainerExtended

IF:
  @IFQName: HTMLInlineContainerExtended
  @ClsQName: ManakaiDOMHTMLInlineContainerExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLStrictlyInlineContainerExtended
  @ClsISA: ManakaiDOMHTMLStrictlyInlineContainerExtended

  @IFISA: HTMLStructuredInlineContainerExtended
  @ClsISA: ManakaiDOMHTMLStructuredInlineContainerExtended
##HTMLInlineContainerExtended

ClsOnly:
  @For: ManakaiDOM|ManakaiDOMLatest
  @ClsQName: ManakaiDOMHTMLInlineElementExtended
  @ClsISA: ManakaiDOMHTMLInlineContainerExtended
  @ClsISA: ManakaiDOMHTMLElement

  @enDesc:
    Strictly inline-level content elements whose content
    is conditionally either strictly inline-level content or
    any inline-level content.

  @enImplNote:
    Future version of manakai might split this class into
    indivisual element type classes.

  @s:elementType: code||ForHTML5
  @s:elementType: samp||ForHTML5
  @s:elementType: span||ForHTML5
##HTMLInlineElementExtended

ResourceDef:
  @QName: code
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|code

ResourceDef:
  @QName: samp
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|samp

ResourceDef:
  @QName: span
  @rdf:type: s|ElementType
  @For: ForHTML
  @ETQName: xhtml1|span

IF:
  @IFQName: HTMLBlockContainerExtended
  @ClsQName: ManakaiDOMHTMLBlockContainerExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLStructuredInlineContainerExtended
  @ClsISA: ManakaiDOMHTMLStructuredInlineContainerExtended

  @Method:
    @@Name: appendNewParagraph
    @@enDesc:
      Appends a new <HE::p> element.
    @@Return:
      @@@Type: HTMLParagraphElement
      @@@enDesc:
        The newly created <HE::p> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'p'));
        }__;
##HTMLBlockContainerExtended

IF:
  @IFQName: HTMLSectioningElementExtended
  @ClsQName: ManakaiDOMHTMLSectioningElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLBlockContainerExtended
  @ClsISA: ManakaiDOMHTMLBlockContainerExtended
  
  @Method:
    @@Name: appendNewSection
    @@enDesc:
      Appends a new <HE::section> element.
    @@ImplNote:
      @@@lang:en
      @@@@: 
        Better method name?
    @@Param:
      @@@Name: title
      @@@Type: DOMString
      @@@enDesc:
        The title text of the section.  If this parameter is 
        specified, the newly created <HE::section> element
        has a newly created heading element with a
        text node whose <A::DOMCore:CharacterData.data> is set to <P::title>.
      @@@nullCase:
        @@@@enDesc:
          The newly created section does not have an initial
          heading element. 
    @@Return:
      @@@Type: HTMLSectionElementExtended
      @@@actualType: ManakaiDOMHTMLSectionElementExtended
      @@@enDesc:
        The newly created <HE::section> element.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
        __DEEP{
          $self-><M::DOMCore:Node.appendChild>
                     ($r = $self-><AG::DOMCore:Node.ownerDocument>
                                -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'section'));
          if (defined $title) {
            $r-><M::DOMCore:Node.appendChild>
                     ($self-><AG::DOMCore:Node.ownerDocument>
                           -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'h1'))
                                                   ## TODO: Rank
              -><AS::DOMCore:Node.textContent> ($title);
          }
        }__;

  @Attr:
    @@Name: heading
    @@enDesc:
      The heading element for this section.
    @@enImplNote:
      {TODO:: Update as in Web Applications 1.0.
      \
      }
    @@Type: HTMLElement
    @@Get:
      @@@nullCase:
        @@@@enDesc:
          This sectioning element does not have a heading.
      @@@PerlDef:
        for my $co (@{$self->{<Q::TreeCore:node>}->{<Q::infoset:children>}}) {
          if ($co->{<Q::DOMCore:nodeType>} eq <Q::infoset:Element> and
              (<Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h1'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h2'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h3'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h4'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h5'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h6'>)) {
            $r = <ClassM::DOMCore:ManakaiDOMNode.getNodeReference> ($co);
            last;
          }
        }
    @@enImplNote: Should setter be defined as e.g. caption?

  @Method:
    @@Name: createHeading
    @@enDesc:
      Creates a heading element and preprends as the first 
      child node of this element or returns an existing one.
    @@enImplNote:
      Should prepend or append?  Rank?
    @@Return:
      @@@Type: HTMLHeadingElement
      @@@enDesc:
        A heading element. 
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@PerlDef:
      A: {
        for my $co (@{$self->{<Q::TreeCore:node>}->{<Q::infoset:children>}}) {
          if ($co->{<Q::DOMCore:nodeType>} eq <Q::infoset:Element> and
              (<Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h1'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h2'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h3'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h4'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h5'> or
               <Code::isHTMLElemento:: $elementNodeo = $co,
                                        $elementType = 'h6'>)) {
            $r = <ClassM::DOMCore:ManakaiDOMNode.getNodeReference> ($co);
            last A;
          }
        }
        
        ## Not found
        __DEEP{
          $r = $self-><M::DOMCore:Node.insertBefore>
                         ($self-><AG::DOMCore:Node.ownerDocument>
                               -><M::DOMCore:Document.createElementNS>
                                    (<Q::xhtml1:>, 'h1'),
                          $self-><AG::DOMCore:Node.firstChild>);
        }__;
      }
##HTMLSectioningElementExtended

ElementTypeBinding:
  @Name: enImplNote
  @ElementType:
    dis:ImplNote
  @ShadowContent:
    @@lang:en

H5ETX:
  @ETQName: xhtml1|section
  @IFQName: HTMLSectionElementExtended
  @ClsQName: ManakaiDOMHTMLSectionElementExtended
  
  @IFISA: HTMLSectioningElementExtended
  @ClsISA: ManakaiDOMHTMLSectioningElementExtended
  @ISAHTMLElement:
##HTMLSectionElementExtended

ElementTypeBinding:
  @Name: nullCase
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type: ManakaiDOM|InCase
    @@Value:
      @@@is-null:1

ET:
  @ETQName:
    xhtml1:body
  @IFQName:  HTMLBodyElement
  @ClsQName: ManakaiDOMHTMLBodyElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@AName: alink
     @@DOMAName:  aLink
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  background
     @@Deprecated:
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@DOMAName:  bgColor
     @@AName: bgcolor
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  link
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  text
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Attr:
     @@DOMAName:  vLink
     @@AName: vlink
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
##HTMLBodyElement

IF:
  @IFQName: HTMLBodyElementExtended
  @ClsQName: ManakaiDOMHTMLBodyElementExtended
  
  @IFISA: HTMLSectioningElementExtended
  @ClsISA: ManakaiDOMHTMLSectioningElementExtended
  @ClsISA: ManakaiDOMHTMLBodyElement
##HTMLBodyElementExtended

ImplNote:
  @@lang:en
  @@@:
    <IF:HTMLFormElement>, <IF:HTMLSelectElement>, 
    <IF:HTMLOptionElement>, <IF:HTMLOptGroupElement>, 
    <IF:HTMLInputElement>, <IF:HTMLTextAreaElement>, 
    <IF:HTMLButtonElement>, <IF:HTMLFieldSetElement>, 
    <IF:HTMLLegendElement>: See <Module:WebForms>.

FeatureDef:
  @QName: HTMLExtendedFeature
  @featureQName: ManakaiDOM|HTML
  @FeatureVerDef:
    @@QName: HTMLExtendedFeature30
    @@enDesc:
      Extended interfaces.
    @@DOMMain:requireFeature: HTMLFeature20
    @@DOMMain:requireFeature: DOMCore|CoreFeature30
    @@DOMMetaImpl:instanceFeatureOf: HTMLExtendedFeature
    @@Version: 3.0

IF:
  @IFQName: HTMLListElementExtended
  @ClsQName: ManakaiDOMHTMLListElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30
  
  @Method:
    @@Name: insertItem
    @@enDesc:
      Inserts a new empty item in the list.  The new item is
      inserted immediately before the current <P::index>th 
      item in the list.  
      \
      If this node is a <HE::dl> element, a pair of
      <HE::dt> element and <HE::dd> element is 
      inserted immediately before the <P::index>th <HE::dt> element.
      Otherwise, a <HE::li> element is inserted
      immediately before the <P::index>th <HE::li> element. 
    @@enImplNote:
      This behaviour may be changed if the HTML5 introduces
      the <QUOTE::di> element type which contains pair of <HE::dt>
      and <HE::dd> elements.
    @@Param:
      @@@Name:index
      @@@Type:DOMMain|long||ManakaiDOM|all
      @@@enDesc:
        The item number where to insert a new item.  
        The index starts from <DOM::0>.
      @@@InCase:
        @@@@enLabel: 
          <DOM::-1> or equal to the number of items
        @@@@enDesc:
          The new item is appended.
    @@Return:
      @@@Type: HTMLElement
      @@@actualType: ManakaiDOMHTMLElement
      @@@enDesc:
        The newly created element.  If this node is a <HE::dl>
        element, the newly created <HE::dt> element is returned.
        Otherwise, the <HE::li> element is returned.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@RaiseException:
        @@@@@: DOMCore|DOMException.INDEX_SIZE_ERR
        @@@@enDesc:
          If the specified <P::index> is greater than
          the number of rows or if the <P::index> is a negative
          number other than <DOM::-1>.
      @@@PerlDef:
        @@@@ImplNote:
          @@@@@lang:en
          @@@@@@:
            For non-<HE::dl> elements.
        @@@@@: 
          if ($self->{<Q::TreeCore:node>}->{<Q::DOMCore:read-only>}) {
            __EXCEPTION{
              MDOMX:NOMOD_THIS::
            }__;
          }

          my $before;
          my $after;
          __CODE{splitChildrenByElementIndex::
            $children => {[@{$self->{<Q::TreeCore:node>}
                                  ->{<Q::infoset:children>}}]},
            $before => $before, $after => $after,
            $elementType => 'li', $index => $index,
          }__;
          
          __DEEP{
            $r = $self-><AG::DOMCore:Node.ownerDocument>
                      -><M::DOMCore:Document.createElementNS>
                            (<Q::xhtml1:>, 'li');
          }__;
          $self->{<Q::TreeCore:node>}
               -><M::ManakaiDOM|ManakaiDOMNodeObject||ManakaiDOM|Perl.importTree>
                    ($r->{<Q::TreeCore:node>});
          $r->{<Q::TreeCore:node>}->{<Q::infoset:parent>}
                = $self->{<Q::TreeCore:node>};
          $self->{<Q::TreeCore:node>}->{<Q::infoset:children>}
                = [@$before, $r->{<Q::TreeCore:node>}, @$after];
           
##HTMLListElementExtended

ElementTypeBinding:
  @Name: IFISA
  @ElementType:
    dis:ISA
  @ShadowContent:
    @@ForCheck: ManakaiDOM|ForIF

ElementTypeBinding:
  @Name: ClsISA
  @ElementType:
    dis:ISA
  @ShadowContent:
    @@ForCheck: ManakaiDOM|ForClass

IF:
  @IFQName: HTMLUListElementExtended
  @ClsQName: ManakaiDOMHTMLUListElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLListElementExtended

  @ClsISA: ManakaiDOMHTMLListElementExtended
  @ClsISA: ManakaiDOMHTMLUListElement
##HTMLUListElementExtended

IF:
  @IFQName: HTMLOListElementExtended
  @ClsQName: ManakaiDOMHTMLOListElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLListElementExtended

  @ClsISA: ManakaiDOMHTMLListElementExtended
  @ClsISA: ManakaiDOMHTMLOListElement
##HTMLOListElementExtended

IF:
  @IFQName: HTMLDListElementExtended
  @ClsQName: ManakaiDOMHTMLDListElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLListElementExtended

  @ClsISA: ManakaiDOMHTMLListElementExtended
  @ClsISA: ManakaiDOMHTMLDListElement
  
  @Method:
    @@Name: insertItem
    @@ManakaiDOM:isRedefining:1
    @@ForCheck: ManakaiDOM|ForClass
    @@enDesc:
      Inserts a new empty pair of <HE::dt> and
      <HE::dd> elements in the list.  The new item is
      inserted immediately before the current <P::index>th 
      <HE::dt> element in the list.  
    @@Param:
      @@@Name:index
      @@@Type:DOMMain|long||ManakaiDOM|all
      @@@enDesc:
        The item number where to insert a new item.  
        The index starts from <DOM::0>.
      @@@InCase:
        @@@@enLabel: 
          <DOM::-1> or equal to the number of items
        @@@@enDesc:
          The new item is appended.
    @@Return:
      @@@Type: HTMLElement
      @@@actualType: ManakaiDOMHTMLElement
      @@@enDesc:
        The newly created <HE::dt> element.  Note that
        the new <HE::dd> element can be obtained by
        <AG::DOMCore:Node.nextSibling> attribute of the returned
        node.
      @@@RaiseException:
        @@@@@: MDOMX|NOMOD_THIS
        @@@@enDesc:
          This node is read-only.
      @@@RaiseException:
        @@@@@: DOMCore|DOMException.INDEX_SIZE_ERR
        @@@@enDesc:
          If the specified <P::index> is greater than
          the number of rows or if the <P::index> is a negative
          number other than <DOM::-1>.
      @@@PerlDef:
        @@@@ImplNote:
          @@@@@lang:en
          @@@@@@:
            For non-<HE::dl> elements.
        @@@@@: 
          if ($self->{<Q::TreeCore:node>}->{<Q::DOMCore:read-only>}) {
            __EXCEPTION{
              MDOMX:NOMOD_THIS::
            }__;
          }

          my $before;
          my $after;
          __CODE{splitChildrenByElementIndex::
            $children => {[@{$self->{<Q::TreeCore:node>}
                                  ->{<Q::infoset:children>}}]},
            $before => $before, $after => $after,
            $elementType => 'dt', $index => $index,
          }__;

          my $dd;          
          __DEEP{
            my $od = $self-><AG::DOMCore:Node.ownerDocument>;
            $r = $od-><M::DOMCore:Document.createElementNS>
                            (<Q::xhtml1:>, 'dt');
            $dd = $od-><M::DOMCore:Document.createElementNS>
                            (<Q::xhtml1:>, 'dd');
          }__;
          $self->{<Q::TreeCore:node>}
               -><M::ManakaiDOM|ManakaiDOMNodeObject||ManakaiDOM|Perl.importTree>
                    ($r->{<Q::TreeCore:node>});
          $r->{<Q::TreeCore:node>}->{<Q::infoset:parent>}
                = $self->{<Q::TreeCore:node>};
          $self->{<Q::TreeCore:node>}
               -><M::ManakaiDOM|ManakaiDOMNodeObject||ManakaiDOM|Perl.importTree>
                    ($dd->{<Q::TreeCore:node>});
          $dd->{<Q::TreeCore:node>}->{<Q::infoset:parent>}
                = $self->{<Q::TreeCore:node>};
          $self->{<Q::TreeCore:node>}->{<Q::infoset:children>}
                = [@$before, $r->{<Q::TreeCore:node>},
                             $dd->{<Q::TreeCore:node>}, @$after];
           
##HTMLDListElementExtended

ResourceDef:
  @QName: splitChildrenByElementIndex
  @rdf:type: dis2pm|BlockCode
  @enDesc:
    Splits a child node list into two groups: nodes before
    <P::index>th <P::elementType> element node (not inclusive) and
    any remind nodes.
  @PerlDef:
          my $__i = 0;
          $before = [];
          $after = $children;
          FIND: {
            if ($index == -1) {
              $before = $after;
              $after = [];
              last FIND;
            }
            while (my $__co = shift @$after) {
              if ($__co->{<Q::DOMCore:nodeType>} eq <Q::infoset:Element> and
                  <Code::isHTMLElemento:: $elementNodeo = $__co,
                                          $elementType = $elementType>) {
                if ($index == $__i++) {  ## Position found
                  unshift @$after, $__co;
                  last FIND;
                } else {
                  push @$before, $__co;
                }
              } else {
                push @$before, $__co;
              }
            }
            last FIND if $index == $__i; ## Equal to number

            __EXCEPTION{DOMCore:ManakaiDOMException.INDEX_SIZE_ERR::
              MDOMX:param-name => 'index',
            }__
          } # FIND


ElementTypeBinding:
  @Name: enLabel
  @ElementType:
    dis:Label
  @ShadowContent:
    @@lang:en

ET:
  @ETQName: 
    xhtml1:ul
  @IFQName:  HTMLUListElement
  @ClsQName: ManakaiDOMHTMLUListElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  compact
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@Name:  type
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:ol
  @IFQName:  HTMLOListElement
  @ClsQName:ManakaiDOMHTMLOListElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  compact
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@Name:  start
     @@Deprecated:
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @Attr:
     @@Name:  type
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName: 
    xhtml1:dl
  @IFQName:  HTMLDListElement
  @ClsQName: ManakaiDOMHTMLDListElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  compact
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false

ET:
  @ETQName:
    xhtml1:dir
  @IFQName:  HTMLDirectoryElement
  @ClsQName: ManakaiDOMHTMLDirectoryElement
  @ISAHTMLElement:
  @L1IF:
  @Deprecated:

  @Attr:
     @@Name:  compact
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false

ET:
  @ETQName:
    xhtml1:menu
  @IFQName:  HTMLMenuElement
  @ClsQName: ManakaiDOMHTMLMenuElement
  @ISAHTMLElement:
  @L1IF:
  @Deprecated:

  @ATTR:
     @@Name:  compact
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false

ET:
  @ETQName:
    xhtml1:li
  @IFQName:  HTMLLIElement
  @ClsQName: ManakaiDOMHTMLLIElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  type
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Attr:
     @@Name:  value
     @@Deprecated:
     @@ReflectNumeric:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:div
  @IFQName:  HTMLDivElement
  @ClsQName: ManakaiDOMHTMLDivElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:p
  @IFQName:  HTMLParagraphElement
  @ClsQName: ManakaiDOMHTMLParagraphElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:

ForDef:
  @QName:
    DOMHTML:ForH1
ForDef:
  @QName:
    DOMHTML:ForH2
ForDef:
  @QName:
    DOMHTML:ForH3
ForDef:
  @QName:
    DOMHTML:ForH4
ForDef:
  @QName:
    DOMHTML:ForH5
ForDef:
  @QName:
    DOMHTML:ForH6

IF:
  @IFQName: HTMLParagraphElementExtended
  @ClsQName: ManakaiDOMHTMLParagraphElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLBlockContainerExtended
  @IFISA: HTMLParagraphElement

  @ClsISA: ManakaiDOMHTMLBlockContainerExtended
  @ClsISA: ManakaiDOMHTMLParagraphElement
##HTMLParagraphElementExtended

IF:
  @IFQName: HTMLHeadingElementExtended
  @ClsQName: ManakaiDOMHTMLHeadingElementExtended
  @DOMMain:implementFeature: HTMLExtendedFeature30

  @IFISA: HTMLBlockContainerExtended
  @IFISA: HTMLHeadingElement

  @ClsISA: ManakaiDOMHTMLBlockContainerExtended
  @ClsISA: ManakaiDOMHTMLHeadingElement
##HTMLHeadingElementExtended

IF:
  @For: ForHTML
  @rdf:type:
    @@@:
      dis:MultipleResource
    @@For: ForHTML
    @@ForCheck:
      !ManakaiDOM:ForIF !ManakaiDOM:ForClass
      !ForH1 !ForH2 !ForH3 !ForH4 !ForH5 !ForH6
  @resourceFor:
    @@@: ForH1
    @@For: ForHTML
  @resourceFor:
    @@@: ForH2
    @@For: ForHTML
  @resourceFor:
    @@@: ForH3
    @@For: ForHTML
  @resourceFor:
    @@@: ForH4
    @@For: ForHTML
  @resourceFor:
    @@@: ForH5
    @@For: ForHTML
  @resourceFor:
    @@@: ForH6
    @@For: ForHTML
  @rdf:type:
    @@@:
      s:ElementType
    @@For:ForHTML
  
  @ETQName:
    @@@:
      xhtml1:h1
    @@ForCheck: ForH1
  @ETQName:
    @@@:
      xhtml1:h2
    @@ForCheck: ForH2
  @ETQName:
    @@@:
      xhtml1:h3
    @@ForCheck: ForH3
  @ETQName:
    @@@:
      xhtml1:h4
    @@ForCheck: ForH4
  @ETQName:
    @@@:
      xhtml1:h5
    @@ForCheck: ForH5
  @ETQName:
    @@@:
      xhtml1:h6
    @@ForCheck: ForH6
  
  @s:elementType:
    @@@: ||ForHTML40SE||ForH1
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQName
    @@DISCore:stopISARecursive:1
  @s:elementType:
    @@@: ||ForHTML401||ForH1
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
    @@DISCore:stopISARecursive:1
  @s:elementType:
    @@@: ||ForXHTML10SE||ForH1
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
    @@DISCore:stopISARecursive:1
  @s:elementType:
    @@@: ||ForHTML40SE||ForH2
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML401||ForH2
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForXHTML10SE||ForH2
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML40SE||ForH3
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML401||ForH3
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForXHTML10SE||ForH3
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML40SE||ForH4
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML401||ForH4
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForXHTML10SE||ForH4
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML40SE||ForH5
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML401||ForH5
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForXHTML10SE||ForH5
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML40SE||ForH6
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML401||ForH6
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForXHTML10SE||ForH6
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @IFQName:  HTMLHeadingElement
  @ClsQName: ManakaiDOMHTMLHeadingElement
  @ISAHTMLElement:
  @L1IF:

  @Attrs:
     @@Name:  align
     @@docAttrP1S: ||ForHTML40SE||ForH1
     @@docAttrP2S: ||ForHTML401||ForH1
     @@docAttrP2X: ||ForXHTML10SE||ForH1
     @@docAttrP1S: ||ForHTML40SE||ForH2
     @@docAttrP2S: ||ForHTML401||ForH2
     @@docAttrP2X: ||ForXHTML10SE||ForH2
     @@docAttrP1S: ||ForHTML40SE||ForH3
     @@docAttrP2S: ||ForHTML401||ForH3
     @@docAttrP2X: ||ForXHTML10SE||ForH3
     @@docAttrP1S: ||ForHTML40SE||ForH4
     @@docAttrP2S: ||ForHTML401||ForH4
     @@docAttrP2X: ||ForXHTML10SE||ForH4
     @@docAttrP1S: ||ForHTML40SE||ForH5
     @@docAttrP2S: ||ForHTML401||ForH5
     @@docAttrP2X: ||ForXHTML10SE||ForH5
     @@docAttrP1S: ||ForHTML40SE||ForH6
     @@docAttrP2S: ||ForHTML401||ForH6
     @@docAttrP2X: ||ForXHTML10SE||ForH6
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:

ElementTypeBinding:
  @Name: docAttrP1S
  @ElementType:
    dis:DocAttr
  @ShadowContent:
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
ElementTypeBinding:
  @Name: docAttrP2
  @ElementType:
    dis:DocAttr
  @ShadowContent:
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
ElementTypeBinding:
  @Name: docAttrP2X
  @ElementType:
    dis:DocAttr
  @ShadowContent:
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

ElementTypeBinding:
  @Name: IFDef
  @ElementType:
    dis:ResourceDef
  @ShadowContent:
    @@rdf:type:
      ManakaiDOM:IF
    @@ISA:
      @@@@:
        ::ManakaiDOM:ManakaiDOM
      @@@For:
        ManakaiDOM:ManakaiDOM1

IFDef:
  @Name:HTMLBlockquoteElement
  @ISA:HTMLElement
  @Description:
    @@lang:en
    @@@:
      The <IF:HTMLBlockquoteElement> interface was contained 
      in the DOM Level 1 First Edition by error.  The 
      <IF:HTMLQuoteElement> interface should must used instead. 
      <SRC:DOM Level 1 Errata>
  @Attr:
    @@Name:cite
    @@Get:
      @@@Type:
        DOMMain:DOMString
    @@Set:
      @@@Type:
        DOMMain:DOMString
  @ForCheck:
    =ManakaiDOM:DOM1

ForDef:
  @QName:
    DOMHTML:ForBlockquote
ForDef:
  @QName:
    DOMHTML:ForQ

IF:
  @For:ForHTML
  @rdf:type:
    @@@:
      dis:MultipleResource
    @@ForCheck: ForHTML
    @@ForCheck:
      !ManakaiDOM:ForIF !ManakaiDOM:ForClass
      !ForBlockquote !ForQ
  @resourceFor:
    @@@:ForBlockquote
    @@ForCheck:ForHTML
  @resourceFor:
    @@@:ForQ
    @@ForCheck:ForHTML
  @rdf:type:
    @@@:
      s:ElementType
    @@For:ForHTML

  @ETQName:
    @@@:
      xhtml1:blockquote
    @@ForCheck:ForBlockquote
  @ETQName:
    @@@:
      xhtml1:q
    @@ForCheck:ForQ

  @IFQName:  HTMLQuoteElement
  @ClsQName: ManakaiDOMHTMLQuoteElement
  @ISAHTMLElement:
  @L1IF:

  @s:elementType:
    @@@: ||ForHTML40SE||ForBlockquote
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
    @@DISCore:stopISARecursive:1
  @s:elementType:
    @@@: ||ForHTML401||ForBlockquote
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
    @@DISCore:stopISARecursive:1
  @s:elementType:
    @@@: ||ForXHTML10SE||ForBlockquote
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
    @@DISCore:stopISARecursive:1

  @s:elementType:
    @@@: ||ForHTML40SE||ForQ
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForHTML401||ForQ
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @s:elementType:
    @@@: ||ForXHTML10SE||ForQ
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @Attrs:
     @@Name:  cite
     @@ReflectURI:
     @@docAttrP1S: ||ForHTML40SE||ForQ
     @@docAttrP2S: ||ForHTML401||ForQ
     @@docAttrP2X: ||ForXHTML10SE||ForQ
     @@docAttrP1S: ||ForHTML40SE||ForBlockquote
     @@docAttrP2S: ||ForHTML401||ForBlockquote
     @@docAttrP2X: ||ForXHTML10SE||ForBlockquote
     @@Get:
     @@Set:

ElementTypeBinding:
  @Name: elementType
  @ElementType:
    s:elementType
  @ShadowContent:
    @@DISCore:stopISARecursive:1

ET:
  @ETQName:
    xhtml1:pre
  @IFQName:  HTMLPreElement
  @ClsQName: ManakaiDOMHTMLPreElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  width
     @@Deprecated:1
     @@ReflectNumeric:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:br
  @IFQName:  HTMLBRElement
  @ClsQName:ManakaiDOMHTMLBRElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  clear
     @@Deprecated:1
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName: 
    xhtml1:basefont
  @IFQName:  HTMLBaseFontElement
  @ClsQName:ManakaiDOMHTMLBaseFontElement
  @ISAHTMLElement:
  @L1IF:
  @Deprecated:

  @ATTR:
     @@Name:  color
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  face
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  size
     @@Description:
       @@@lang:en
       @@@@:Computed font size.
       @@@For:
         ManakaiDOM:DOM2
     @@Deprecated:
     @@Type:
       @@@@:
         DOMMain:long
       @@@For:
         ManakaiDOM:DOM2
     @@actualType:
       @@@@: Numeric
       @@@For: ManakaiDOM|DOM2
     @@Type:
       @@@@:
         DOMMain:DOMString
       @@@For:
         ManakaiDOM:DOM1 !ManakaiDOM:DOM2
     @@actualType:
       @@@@: CDATADOMString
       @@@For: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
     @@Get:
       @@@ImplNote:
         @@@@lang:en
         @@@@@:
           TODO: Computed value should be returned. 
           In DOM Level 1, it was <EM:not> the computed value 
           and the type was <TYPE:DOMString>.
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2

ET:
  @ETQName: 
    xhtml1:font
  @IFQName:  HTMLFontElement
  @ClsQName:ManakaiDOMHTMLFontElement
  @ISAHTMLElement:
  @Deprecated:
  @L1IF:

  @ATTR:
     @@Name:  color
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  face
     @@Deprecated:
     @@ReflectCDATA: 
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  size
     @@Deprecated:
     @@ImplNote:
       @@@lang:en
       @@@@:
         This is <EM:not> the computed size.
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:hr
  @IFQName:  HTMLHRElement
  @ClsQName:ManakaiDOMHTMLHRElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:noshade
     @@DOMAName:  noShade
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@Name:  size
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  width
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:

ForDef:
  @QName:
    DOMHTML:ForIns
ForDef:
  @QName:
    DOMHTML:ForDel

IF:
  @For:ForHTML
  @rdf:type:
    @@@: 
      dis:MultipleResource
    @@ForCheck:
      !ManakaiDOM:ForIF !ManakaiDOM:ForClass
      !ForIns !ForDel
    @@For: ForHTML
  @resourceFor:
    @@@: ForIns
    @@For:ForHTML
  @resourceFor:
    @@@: ForDel
    @@For:ForHTML
  @rdf:type:
    @@@:
      s:ElementType
    @@For:ForHTML

  @ETQName:
    @@@:
      xhtml1:ins
    @@ForCheck:ForIns
  @ETQName:
    @@@:
      xhtml1:del
    @@ForCheck:ForDel

  @elementType:
    @@@: ||ForHTML40SE||ForIns
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForIns
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForIns
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @elementType:
    @@@: ||ForHTML40SE||ForDel
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForDel
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForDel
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @IFQName:  HTMLModElement
  @ClsQName:ManakaiDOMHTMLModElement
  @ISAHTMLElement:
  @L1IF:

  @Attrs:
     @@Name:  cite
     @@ReflectURI:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForIns
     @@docAttrP2S: ||ForHTML401||ForIns
     @@docAttrP2X: ||ForXHTML10SE||ForIns
     @@docAttrP1S: ||ForHTML40SE||ForDel
     @@docAttrP2S: ||ForHTML401||ForDel
     @@docAttrP2X: ||ForXHTML10SE||ForDel
  @Attrs:
     @@AName: datetime
     @@DOMAName:  dateTime
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForIns
     @@docAttrP2S: ||ForHTML401||ForIns
     @@docAttrP2X: ||ForXHTML10SE||ForIns
     @@docAttrP1S: ||ForHTML40SE||ForDel
     @@docAttrP2S: ||ForHTML401||ForDel
     @@docAttrP2X: ||ForXHTML10SE||ForDel

ET:
  @ETQName:
    xhtml1:a
  @IFQName:  HTMLAnchorElement
  @ClsQName:ManakaiDOMHTMLAnchorElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@AName:accesskey
     @@DOMAName:  accessKey
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  charset
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  coords
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  href
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  hreflang
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  rel
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  rev
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  shape
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:tabindex
     @@DOMAName:  tabIndex
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  target
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  type
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Method:
     @@Name:  blur
     @@Description:
       @@@lang:en
       @@@@:Remove the focus from this element.
     @@Return:  
  @Method:
     @@Name:  focus
     @@Description:
       @@@lang:en
       @@@@:Give the focus to this element.
     @@Return:  
##IF:HTMLAnchorElement

IF:
  @IFQName: HTMLAnchorElementExtended
  @ClsQName: ManakaiDOMHTMLAnchorElementExtended
  
  @IFISA: HTMLAnchorElement
  @IFISA: HTMLStrictlyInlineContainerExtended

  @ClsISA: ManakaiDOMHTMLAnchorElement
  @ClsISA: ManakaiDOMHTMLStrictlyInlineContainerExtended
##HTMLAnchorElementExtended

ET:
  @ETQName:
    xhtml1:img
  @IFQName:  HTMLImageElement
  @ClsQName:ManakaiDOMHTMLImageElement
  @ISAHTMLElement:
  @L1IF:

  @ResourceDef:
    @@rdf:type:
      @@@@: ManakaiDOM|DOMAttribute
      @@@ForCheck: ManakaiDOM|DOM

    @@For: ManakaiDOM|DOM1

    @@rdf:type:
      @@@@: s|Attribute
      @@@ForCheck: ForHTML

    @@For: ForHTML401
    @@For: ForXHTML10SE
    @@enImplNote: Does 10SE defines this attr?

     @@Name:  name
     @@Description:
        @@@lang:en
        @@@@:
          The name of the element.
          \
          {NOTE:: This attribute is provided for backwards compatibility. 
                  Whilst HTML 4.01 added the <HA:name> attribute 
                  for compatibility, the DOM HTML Specifications 
                  does not address this fact - i.e. HTML's and DOM's 
                  <CODE:name> attributes are not formally associated.
          \
          }
     @@DocAttr:
       @@@@:
         ::ForHTML401
       @@@For:
         ManakaiDOM:ManakaiDOMLatest
     @@DocAttr:
       @@@@:
         ::ForXHTML10SE
       @@@For:
         ManakaiDOM:ManakaiDOMLatest
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  alt
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  border
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@ImplNote:
       @@@lang:en
       @@@@:
         The type is <TYPE:DOMString> in both DOM Levels 1 and 2.
  @ATTR:
     @@Name:  height
     @@Deprecated:
     @@ReflectStringLong:
     @@Get:
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @ATTR:
     @@Name:  hspace
     @@Deprecated:
     @@ReflectStringLong:
     @@Get:
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @ATTR:
     @@AName:ismap
     @@DOMAName:  isMap
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@AName:longdesc
     @@DOMAName:  longDesc
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  src
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:usemap
     @@DOMAName:  useMap
     @@ReflectURI:
     @@Get:
     @@Set:
     @@ImplNote:
       @@@lang:en
       @@@@:
         The HTML 4 and XHTML 1.0 <HA:usemap> attribute value is 
         of <SGML:%URI;>, while the XHTML m12n <HA:usemap> value 
         is <XML:IDREF>.
  @ATTR:
     @@Name:  vspace
     @@Deprecated:
     @@ReflectStringLong:
     @@Get:
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  width
     @@Deprecated:
     @@ReflectStringLong:
     @@Get:
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
##IF:HTMLImageElement

ElementTypeBinding:
  @Name: ReflectStringLong
  @ElementType:
    dis:Type
  @ShadowContent: 
    @@@: DOMMain|long
    @@For: ManakaiDOM|DOM2
  @ShadowSibling:
    @@actualType: 
      @@@@: Numeric
      @@@For: ManakaiDOM|DOM2
    @@Type:
      @@@@: DOMMain|DOMString
      @@@For: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@actualType:
      @@@@: CDATADOMString
      @@@For: ManakaiDOM|DOM1 !ManakaiDOM|DOM2

ET:
  @ETQName:
    xhtml1:object
  @IFQName:  HTMLObjectElement
  @ClsQName:ManakaiDOMHTMLObjectElement
  @ISAHTMLElement:
  @L1IF:

  @ImplNote:
    @@lang:en
    @@@:
      In some environments some attributes may be read-only 
      once the underlying object is instantiated.
  @Attr:
     @@Name:  form
     @@Description:
       @@@lang:en
       @@@@:
         The <HE:form> element containing this control.
     @@Get:
        @@@Type:  
          DOMHTML:HTMLFormElement
        @@@Description:
          @@@@lang:en
          @@@@@:
            This control is not within the context of a form.
  @Attr:
     @@Name:  code
     @@enDesc:
       Applet class file.
     @@Get:
        @@@Type:  DOMString
     @@Set:
        @@@Type:  DOMString
  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  archive
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  border
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:codebase
     @@DOMAName:  codeBase
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:codetype
     @@DOMAName:  codeType
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  data
     @@ReflectURI:
       @@@ImplNote: Relative to codebase
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  declare
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@Name:  height
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  hspace
     @@Deprecated:
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:standby
     @@DOMAName:  standby
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:tabindex
     @@DOMAName:  tabIndex
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  type
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Attr:
     @@AName:usemap
     @@DOMAName:  useMap
     @@ReflectURI:
     @@Get:
     @@Set:
     @@ImplNote:
       @@@lang:en
       @@@@:
         In HTML 4 or XHTML 1.0, the <HA:usemap> attribute is 
         a <SGML:%URI;>.  In XHTML m12n, the <HA:usemap> 
         is an <XML:IDREF>.
  @ATTR:
     @@Name:  vspace
     @@Deprecated:
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  width
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Attr:
     @@Name:  contentDocument
     @@Description:
       @@@lang:en
       @@@@:
         The document this object contains, if any and available.
     @@Get:
        @@@Type:  Document
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              There is no containing document or 
              there is but it is not available.
       @@@Def:
         @@@@ContentType:
           lang:dis
         @@@@GetPropNode:
           DOMHTML:contentDocument
     @@Level[list]:  2
     @@SpecLevel[list]:  2
     @@L2:
##IF:HTMLObjectElement

PropDef:
  @QName: referrer
  @enDesc:
    <A::HTMLDocument.referrer>.

PropDef:
  @QName: contentDocument
  @Type:
    ManakaiDOMCore:ManakaiDOMNodeObjectNode::ManakaiDOM:ManakaiDOMCommon
  @Description:
    @@lang:en
    @@@:
      An (external) <IF::Document> node object referred from an element. 

ET:
  @ETQName:
    xhtml1:param
  @IFQName:  HTMLParamElement
  @ClsQName:ManakaiDOMHTMLParamElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  type
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  value
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:valuetype
     @@DOMAName:  valueType
     @@ReflectCDATA:
     @@Get:
     @@Set:

ET:
  @ETQName:
    xhtml1:applet
  @IFQName:  HTMLAppletElement
  @ClsQName:ManakaiDOMHTMLAppletElement
  @ISAHTMLElement:
  @L1IF:
  @Deprecated:

  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  alt
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  archive
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  code
     @@Deprecated:
     @@ReflectCDATA:
       @@@ImplNote: URI?
     @@Get:
     @@Set:
  @ATTR:
     @@AName:codebase
     @@DOMAName:  codeBase
     @@Deprecated:
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  height 
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  hspace
     @@Deprecated:
     @@ReflectStringLong:
     @@Get:
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @ATTR:
     @@Name:  name
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Attr:
     @@Name:  object
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  vspace
     @@Deprecated:
     @@ReflectStringLong:
     @@Get:
     @@Set:
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  width
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLAppletElement

ResourceDef:
  @QName:
    DOMMain:long
  @AliasFor:
    DOMMain:long::ManakaiDOM:all
  @ForCheck:
    !=ManakaiDOM:all

ET:
  @ETQName:
    xhtml1:map
  @IFQName:  HTMLMapElement
  @ClsQName:ManakaiDOMHTMLMapElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  areas
     @@Description:
       @@@lang:en
       @@@@:
         The list of areas defined for this image map.
     @@Get:
        @@@Type:  HTMLCollection
  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLMapElement

ET:
  @ETQName:
    xhtml1:area
  @IFQName:  HTMLAreaElement
  @ClsQName:ManakaiDOMAreaElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@AName: accesskey
     @@DOMAName:  accessKey
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  alt
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  coords
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  href
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:nohref
     @@DOMAName:  noHref
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@ReflectCDATA:
     @@Name:  shape
     @@Get:
     @@Set:
  @Attr:
     @@AName:tabindex
     @@DOMAName:  tabIndex
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  target
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLAreaElement

ET:
  @ETQName:
    xhtml1:script
  @IFQName:  HTMLScriptElement
  @ClsQName:ManakaiDOMHTMLScriptElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  text
     @@Description:
       @@@lang:en
       @@@@:
         The script content of this element.
     @@ImplNote:
       @@@lang:en
       @@@@:
         ISSUE: How interact with <HA:src>?
     @@Get:
        @@@Type:  DOMString
     @@Set:
        @@@Type:  DOMString
  @Attr:
     @@DOMAName:  htmlFor
     @@Description:
       @@@lang:en
       @@@@:
         {NOTE:: Reserved for future use by the DOM HTML Specifications. 
                 The HTML <HA:for> attribute is also reserved 
                 by the HTML 4 Specifications.
         \
         }
     @@Get:
        @@@Type:  DOMString
     @@Set:
        @@@Type:  DOMString
  @Attr:
     @@Name:  event
     @@Description:
       @@@lang:en
       @@@@:
         {NOTE:: Reserved for future use by the DOM HTML Specifications. 
                 The HTML <HA:event> attribute is also reserved 
                 by the HTML 4 Specification.
         \
         }
     @@Get:
        @@@Type:  DOMString
     @@Set:
        @@@Type:  DOMString
  @ATTR:
     @@Name:  charset
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  defer
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@Name:  src
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  type
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLScriptElement

ET:
  @ETQName:
    xhtml1:table
  @IFQName:  HTMLTableElement
  @ClsQName:ManakaiDOMHTMLTableElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  caption
     @@Description:
       @@@lang:en
       @@@@:
         The <HE:caption> of the table.
     @@Get:
        @@@Type:  HTMLTableCaptionElement
        @@@InCase:
          @@@@Label:
            @@@@@lang:en
            @@@@@@:
              void (= <DOM:null>?)
          @@@@Description:
            @@@@@lang:en
            @@@@@@: There is no caption.
     @@Set:
        @@@Type:  HTMLTableCaptionElement
        @@@Exception:
          @@@@@:
            ManakaiDOMHTML:MDOM_NOT_CAPTION
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The given element is not a <HE:caption>.
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  tHead
     @@Description:
       @@@lang:en
       @@@@:
         The <HE:thead> of this table.
     @@Get:
        @@@Type:  HTMLTableSectionElement
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              There is no <HE:thead>.
     @@Set:
        @@@Type:  HTMLTableSectionElement
        @@@Exception:
           @@@@Name:  HIERARCHY_REQUEST_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             ManakaiDOMHTML:MDOM_BAD_ELEMENT_TYPE
           @@@@Description:
             @@@@@lang:en
             @@@@@@: 
               The given element is not a <HE:thead>.
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  tFoot
     @@Description:
       @@@lang:en
       @@@@:
         The <HE:tfoot> of this table.
     @@Get:
        @@@Type:  HTMLTableSectionElement
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              There is no <HE:tfoot>.
     @@Set:
        @@@Type:  HTMLTableSectionElement
        @@@Exception:
           @@@@Name:  HIERARCHY_REQUEST_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               ManakaiDOMHTML:MDOM_NOT_TFOOT
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 The given element is not a <HE:tfoot>.
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  rows
     @@Description:
       @@@lang:en
       @@@@:
         A collection of all the rows (child or grandchild 
         <HE:tr> elements) in this table.
     @@Get:
        @@@Type:  HTMLCollection
  @Attr:
     @@Name:  tBodies
     @@Description:
       @@@lang:en
       @@@@:
         A collection of the table bodies.
     @@ImplNote:
       @@@lang:en
       @@@@:
         ISSUE: What is collected if simple table?
     @@Get:
        @@@Type:  HTMLCollection
  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:bgcolor
     @@DOMAName:  bgColor
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  border
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:cellpadding
     @@DOMAName:  cellPadding
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:cellspacing
     @@DOMAName:  cellSpacing
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  frame
     @@ReflectEnum:
     @@Get:
     @@Set:
     @@ImplNote:
       @@@lang:en
       @@@@:
         How <HTML:border> is implemented in DOM Level 0?
  @ATTR:
     @@Name:  rules
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  summary
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  width
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Method:
     @@Name:  createTHead
     @@Description:
       @@@lang:en
       @@@@:
         Create the <HE:thead> element (if it does not exist) and 
         return it.
     @@Return:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@:
            The <HE:thead> element.
  @Method:
     @@Name:  deleteTHead
     @@Description:
       @@@lang:en
       @@@@:
         Delete the <HE:thead>, if any, from the table.
     @@Return:  
  @Method:
     @@Name:  createTFoot
     @@Description:
       @@@lang:en
       @@@@:
         Create the <HE:tfoot> element (if it does not exist) and 
         return it.
     @@Return:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@:
            The <HE:tfoot> element.
  @Method:
     @@Name:  deleteTFoot
     @@Description:
       @@@lang:en
       @@@@:
         Delete the <HE:tfoot>, if any, from the table.
     @@Return:  
  @Method:
     @@Name:  createCaption
     @@Description:
       @@@lang:en
       @@@@:
         Create the table caption element (if it does not exist) and 
         return it.
     @@Return:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@: The table caption.
  @Method:
     @@Name:  deleteCaption
     @@Description:
        @@@lang:en
        @@@@:
          Delete the table caption, if any.
     @@Return:  
  @Method:
     @@Name:  insertRow
     @@Description:
       @@@lang:en
       @@@@:
         Insert a new empty row in this table.  If this table is 
         empty, a <HE:tbody> is created and the new row is 
         inserted into it.
     @@ImplNote:
        @@@lang:en
        @@@@:
          DOM HTML Specifications note that a table row 
          cannot be empty according to HTML 4.  But they do not 
          require DOM implementations to add a table cell.
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The ordinal index of the row where to insert a new row, 
            starting from <DOM:0> and relative to the logical 
            order (not the document order).  The new row is 
            inserted immediately before and in the same row group 
            as the current <P:index>th row.
        @@@InCase:
          @@@@Value:-1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The new row is appended.
          @@@@SpecLevel:2
        @@@InCase:
          @@@@Label:
            @@@@@lang:en
            @@@@@@:
              The number of rows
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The new row is appended.
          @@@@SpecLevel:2
     @@Return:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@:The newly created row.
        @@@Exception:
           @@@@Name:  INDEX_SIZE_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               TODO: What?
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 The <P:index> is greater than the number of rows 
                 or less than <DOM:-1>.
            @@@@SpecLevel:2
           @@@@ImplNote:
             @@@@@lang:en
             @@@@@@:
               <SRC:DOM Level 1 Second Edition HTML, DOM Level 2 HTML> 
               (<P:index> cannot <DOM:-1> in DOM Level 1.)
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @Method:
     @@Name:  deleteRow
     @@Description:
       @@@lang:en
       @@@@:Delete a table row.
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The ordinal index of the row to delete, starting from <DOM:0> 
            and relative to the logical order (not document order).
        @@@InCase:
          @@@@Value:-1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The last row in the table is deleted.
          @@@@SpecLevel:2
        @@@ImplNote:
          @@@@lang:en
          @@@@@:
            In the order of <HE:thead> -> <HE:tbody>s -> <HE:tfoot>?
     @@Return:
        @@@Exception:
           @@@@Name:  INDEX_SIZE_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               TODO: What?
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 The <P:index> is greater than or equal to 
                 the number of rows or the <P:index> is 
                 less than <DOM:-1>.
           @@@@SpecLevel:2
           @@@@ImplNote:
             @@@@@lang:en
             @@@@@@:
               <SRC:DOM Level 1 Second Edition HTML, DOM Level 2 HTML> 
               (<P:index> cannot <DOM:-1> in DOM Level 1.)
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
##IF:HTMLTableElement

ET:
  @ETQName:
    xhtml1:caption
  @IFQName:  HTMLTableCaptionElement
  @ClsQName:ManakaiDOMHTMLTableCaptionElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
##IF:HTMLTableCaptionElement

ET:
  @ETQName:
    xhtml1:col
  @IFQName:  HTMLTableColElement
  @ClsQName:ManakaiDOMHTMLTableColElement
  @ISAHTMLElement:
  @L1IF:

  @ATTR:
     @@Name:  align
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:char
     @@DOMAName:  ch
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:charoff
     @@DOMAName:  chOff
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  span
     @@ReflectNumeric:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:valign
     @@DOMAName:  vAlign
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  width
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLTableColElement

ForDef:
  @QName:
    DOMHTML:ForTbody
ForDef:
  @QName:
    DOMHTML:ForThead
ForDef:
  @QName:
    DOMHTML:ForTfoot

IF:
  @For:ForHTML
  @rdf:type:
    @@@:
      dis:MultipleResource
    @@For:ForHTML
    @@ForCheck:
      !ManakaiDOM:ForIF !ManakaiDOM:ForClass
      !ForTbody !ForThead !ForTfoot
  @resourceFor:
    @@@: ForTbody
    @@ForCheck:ForHTML
  @resourceFor:
    @@@: ForThead
    @@ForCheck:ForHTML
  @resourceFor:
    @@@: ForTfoot
    @@ForCheck:ForHTML
  @rdf:type:
    @@@:
      s:ElementType
    @@For:ForHTML

  @ETQName:
    @@@:
      xhtml1:tbody
    @@ForCheck:ForTbody
  @ETQName:
    @@@:
      xhtml1:thead
    @@ForCheck:ForThead
  @ETQName:
    @@@:
      xhtml1:tfoot
    @@ForCheck:ForTfoot

  @elementType:
    @@@: ||ForHTML40SE||ForTfoot
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForTfoot
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForTfoot
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames


  @elementType:
    @@@: ||ForHTML40SE||ForTbody
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForTbody
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForTbody
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames


  @elementType:
    @@@: ||ForHTML40SE||ForThead
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForThead
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForThead
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @IFQName:  HTMLTableSectionElement
  @ClsQName:ManakaiDOMHTMLTableSectionElement
  @ISAHTMLElement:
  @L1IF:

  @Attrs:
     @@Name:  align
     @@ReflectEnum:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForThead
     @@docAttrP2S: ||ForHTML401||ForThead
     @@docAttrP2X: ||ForXHTML10SE||ForThead
     @@docAttrP1S: ||ForHTML40SE||ForTbody
     @@docAttrP2S: ||ForHTML401||ForTbody
     @@docAttrP2X: ||ForXHTML10SE||ForTbody
     @@docAttrP1S: ||ForHTML40SE||ForTfoot
     @@docAttrP2S: ||ForHTML401||ForTfoot
     @@docAttrP2X: ||ForXHTML10SE||ForTfoot
  @Attrs: 
     @@AName: char
     @@DOMAName:  ch
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForThead
     @@docAttrP2S: ||ForHTML401||ForThead
     @@docAttrP2X: ||ForXHTML10SE||ForThead
     @@docAttrP1S: ||ForHTML40SE||ForTbody
     @@docAttrP2S: ||ForHTML401||ForTbody
     @@docAttrP2X: ||ForXHTML10SE||ForTbody
     @@docAttrP1S: ||ForHTML40SE||ForTfoot
     @@docAttrP2S: ||ForHTML401||ForTfoot
     @@docAttrP2X: ||ForXHTML10SE||ForTfoot
  @Attrs:
     @@AName:charoff
     @@DOMAName:  chOff
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForThead
     @@docAttrP2S: ||ForHTML401||ForThead
     @@docAttrP2X: ||ForXHTML10SE||ForThead
     @@docAttrP1S: ||ForHTML40SE||ForTbody
     @@docAttrP2S: ||ForHTML401||ForTbody
     @@docAttrP2X: ||ForXHTML10SE||ForTbody
     @@docAttrP1S: ||ForHTML40SE||ForTfoot
     @@docAttrP2S: ||ForHTML401||ForTfoot
     @@docAttrP2X: ||ForXHTML10SE||ForTfoot
  @Attrs:
     @@AName:valign
     @@DOMAName:  vAlign
     @@ReflectEnum:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForThead
     @@docAttrP2S: ||ForHTML401||ForThead
     @@docAttrP2X: ||ForXHTML10SE||ForThead
     @@docAttrP1S: ||ForHTML40SE||ForTbody
     @@docAttrP2S: ||ForHTML401||ForTbody
     @@docAttrP2X: ||ForXHTML10SE||ForTbody
     @@docAttrP1S: ||ForHTML40SE||ForTfoot
     @@docAttrP2S: ||ForHTML401||ForTfoot
     @@docAttrP2X: ||ForXHTML10SE||ForTfoot
  @Attr:
     @@Name:  rows
     @@Description:
       @@@lang:en
       @@@@:
         A collection of rows in this table row group.
     @@Get:
        @@@Type:  HTMLCollection
  @Method:
     @@Name:  insertRow
     @@Description:
       @@@lang:en
       @@@@:
         Insert a table row into this row group.
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The ordinal index of the row where to insert a new row, 
            starting from <DOM:0> and relative only to the 
            rows contained inside this row group.  The new row 
            is inserted immediately before the current <P:index>th 
            row.
        @@@InCase:
          @@@@Value:-1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The new row is appended.
          @@@@SpecLevel:2
        @@@InCase:
          @@@@Label:
            @@@@@lang:en
            @@@@@@:The number of rows in this row group
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The new row is appended.
          @@@@SpecLevel:2
     @@Return:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@:The newly created table row.
        @@@Exception:
           @@@@Name:  INDEX_SIZE_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               TODO: What?
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 The <P:index> is greater than the number 
                 of rows or less than <DOM:-1>.
           @@@@SpecLevel:2
           @@@@ImplNote:
             @@@@@lang:en
             @@@@@@:
               <SRC:DOM Level 1 Second Edition HTML, DOM Level 2 HTML> 
               (<P:index> cannot <DOM:-1> in DOM Level 1.)
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @Method:
     @@Name:  deleteRow
     @@Description:
        @@@lang:en
        @@@@:
          Delete a table row from this table row group.
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The ordinal index of the row to delete, starting 
            from <DOM:0> and relative 
            only to the rows contained inside this row group.
        @@@InCase:
          @@@@Value:-1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              Delete the last row.
          @@@@SpecLevel:2
     @@Return:
        @@@Exception:
           @@@@Name:  INDEX_SIZE_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               TODO: What?
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 The <P:index> is greater than or equal to 
                 the number of rows or the <P:index> is less 
                 than <DOM:-1>.
           @@@@SpecLevel:2
           @@@@ImplNote:
             @@@@@lang:en
             @@@@@@:
               <SRC:DOM Level 1 Second Edition HTML, DOM Level 2 HTML> 
               (<P:index> cannot <DOM:-1> in DOM Level 1.)
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
##IF:HTMLTableSectionElement

ET:
  @ETQName:
    xhtml1:tr
  @IFQName:  HTMLTableRowElement
  @ClsQName:ManakaiDOMHTMLTableRowElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  rowIndex
     @@Description:
       @@@lang:en
       @@@@:
         The ordinal index of the row, starting from <DOM:0>, 
         in the logical order (not the document order). 
         \
         {NOTE:: The logical order take row groups into account; 
                 placing <HE:thead> rows first, followed by 
                 <HE:tbody> rows, followed by <HE:tfoot> rows.
         \
         }
     @@Get:
        @@@Type:
           DOMMain:long
     @@ImplNote:
       @@@lang:en
       @@@@:
         Writable in DOM Level 1 FE, with no description - 
         fixed in the Errata.
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  sectionRowIndex
     @@Description:
       @@@lang:en
       @@@@:
         The ordinal index of this row, starting from <DOM:0> 
         and relative to this row group.
     @@Get:
        @@@Type:
           DOMMain:long
     @@ImplNote:
       @@@lang:en
       @@@@:
         Writable in DOM Level 1 FE, with no description.
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @Attr:
     @@Name:  cells
     @@Description:
       @@@lang:en
       @@@@:The collection of cells in this row.
     @@Get:
        @@@Type:  HTMLCollection
     @@ImplNote:
       @@@lang:en
       @@@@:
         Writable in DOM Level 1 FE, with no description.
     @@Level[list]:
        1
     @@SpecLevel[list]:
        1
        2
  @ATTR:
     @@Name:  align
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:bgcolor
     @@DOMAName:  bgColor
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:char
     @@DOMAName:  ch
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:charoff
     @@DOMAName:  chOff
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:valign
     @@DOMAName:  vAlign
     @@ReflectEnum:
     @@Get:
     @@Set:
  @Method:
     @@Name:  insertCell
     @@Description:
        @@@lang:en
        @@@@:
          Insert an empty data cell (<HE:td>) into this row.
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The index where the new cell is inserted, starting 
            from <DOM:0>.
        @@@InCase:
          @@@@Value:-1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:The new cell is appended.
          @@@@SpecLevel:2
        @@@InCase:
          @@@@Label:
            @@@@@lang:en
            @@@@@@:The number of cells
          @@@@Description:
            @@@@@lang:en
            @@@@@@:The new cell is appended.
          @@@@SpecLevel:2
     @@Return:
        @@@Type:  HTMLElement
        @@@Description:
          @@@@lang:en
          @@@@@:The newly inserted cell.
        @@@Exception:
           @@@@Name:  INDEX_SIZE_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               TODO: What?
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 The <P:index> is greater than the number of 
                 cells or less than <DOM:-1>.
           @@@@SpecLevel:2
           @@@@ImplNote:
             @@@@@lang:en
             @@@@@@:
               <SRC:DOM Level 1 Second Edition HTML, DOM Level 2 HTML> 
               (<P:index> cannot <DOM:-1> in DOM Level 1.)
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
  @Method:
     @@Name:  deleteCell
     @@Description:
       @@@lang:en
       @@@@:Delete a cell from this row.
     @@Param:
        @@@Name:  index
        @@@Type:
           DOMMain:long
        @@@Description:
          @@@@lang:en
          @@@@@:
            The index of the cell to delete, starting from <DOM:0> 
            and in the document order.
        @@@InCase:
          @@@@Value:-1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              The last cell is deleted.
          @@@@SpecLevel:2
     @@Return:
        @@@Exception:
           @@@@Name:  INDEX_SIZE_ERR
           @@@@Type:
              DOMCore:DOMException
           @@@@SubType:
             @@@@@QName:
               TODO: What?
             @@@@@Description:
               @@@@@@lang:en
               @@@@@@@:
                 THe <P:index> is greater than or equal to the number 
                 of the cells or less than <DOM:-1>.
            @@@@SpecLevel:2
           @@@@ImplNote:
             @@@@@lang:en
             @@@@@@:
               <SRC:DOM Level 1 Second Edition HTML, DOM Level 2 HTML> 
               (<P:index> cannot <DOM:-1> in DOM Level 1.)
     @@Level[list]:
        1
        2
     @@SpecLevel[list]:
        1
        2
##IF:HTMLTableRowElement

ForDef:
  @QName:
    DOMHTML:ForTd
ForDef:
  @QName:
    DOMHTML:ForTh

IF:
  @For:ForHTML
  @rdf:type:
    @@@:
      dis:MultipleResource
    @@For:ForHTML
    @@ForCheck:
      !ManakaiDOM:ForIF !ManakaiDOM:ForClass
      !ForTd !ForTh
  @resourceFor:
    @@@: ForTd
    @@For:ForHTML
  @resourceFor:
    @@@:ForTh
    @@For:ForHTML
  @rdf:type:
    @@@:
      s:ElementType
    @@For:ForHTML

  @ETQName:
    @@@:
      xhtml1:td
    @@ForCheck:ForTd
  @ETQName:
    @@@:
      xhtml1:th
    @@ForCheck:ForTh

  @elementType:
    @@@: ||ForHTML40SE||ForTh
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForTh
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForTh
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @elementType:
    @@@: ||ForHTML40SE||ForTd
    @@ForCheck: ManakaiDOM|DOM1 !ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForHTML401||ForTd
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames
  @elementType:
    @@@: ||ForXHTML10SE||ForTd
    @@ForCheck: ManakaiDOM|DOM2
    @@ContentType: DISCore|TFPQNames

  @IFQName:  HTMLTableCellElement
  @ClsQName:ManakaiDOMHTMLTableCellElement
  @ISAHTMLElement:
  @L1IF:

  @Attr:
     @@Name:  cellIndex
     @@Description:
       @@@lang:en
       @@@@:
         The ordinal index of this cell in the row, 
         starting from <DOM:0> and in the document order 
         (not the display order).
     @@Get:
        @@@Type:
           DOMMain:long
     @@ImplNote:
       @@@lang:en
       @@@@:
         Writable in DOM Level 1 FE - fixed in the Errata.
  @Attrs:
     @@Name:  abbr
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@Name:  align
     @@ReflectEnum:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@Name:  axis
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:bgcolor
     @@DOMAName:  bgColor
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:char
     @@DOMAName:  ch
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:charoff
     @@DOMAName:  chOff
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:colspan
     @@DOMAName:  colSpan
     @@ReflectNumeric:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@Name:  headers
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@Name:  height
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:nowrap
     @@DOMAName:  noWrap
     @@Deprecated:
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:rowspan
     @@DOMAName:  rowSpan
     @@ReflectNumeric:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@Name:  scope
     @@ReflectEnum:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@AName:valign
     @@DOMAName:  vAlign
     @@ReflectEnum:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
  @Attrs:
     @@Name:  width
     @@Deprecated:
     @@ReflectCDATA:
     @@Get:
     @@Set:
     @@docAttrP1S: ||ForHTML40SE||ForTh
     @@docAttrP2S: ||ForHTML401||ForTh
     @@docAttrP2X: ||ForXHTML10SE||ForTh
     @@docAttrP1S: ||ForHTML40SE||ForTd
     @@docAttrP2S: ||ForHTML401||ForTd
     @@docAttrP2X: ||ForXHTML10SE||ForTd
##IF:HTMLTableCellElement

ET:
  @ETQName:
    xhtml1:frameset
  @IFQName:  HTMLFrameSetElement
  @ClsQName:ManakaiDOMHTMLFrameSetElement
  @ISAHTMLElement:
  @L1IF:

  @ForCheck: !ForXHTML11

  @ATTR:
     @@Name:  cols
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  rows
     @@ReflectCDATA:
     @@Get:
     @@Set:
##IF:HTMLFrameSetElement

ET:
  @ETQName:
    xhtml1:frame
  @IFQName:  HTMLFrameElement
  @ClsQName:ManakaiDOMHTMLFrameElement
  @ISAHTMLElement:
  @L1IF:

  @ForCheck: !ForXHTML11

  @ATTR:
     @@AName:frameborder
     @@DOMAName:  frameBorder
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:longdesc
     @@DOMAName:  longDesc
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:marginheight
     @@DOMAName:  marginHeight
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:marginwidth
     @@DOMAName:  marginWidth
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:noresize
     @@DOMAName:  noResize
     @@ReflectBoolean:
     @@Get:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
     @@Set:
        @@@InCase:
           @@@@Value:  true
        @@@InCase:
           @@@@Value:  false
  @ATTR:
     @@Name:  scrolling
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  src
     @@ReflectURI:
     @@Get:
     @@Set:
  @Attr:
     @@Name:  contentDocument
     @@Description:
       @@@lang:en
       @@@@:
         The document this frame contains, if any and available.
     @@Get:
        @@@Type:  Document
        @@@InCase:
          @@@@Value:
            @@@@@is-null:1
          @@@@Description:
            @@@@@lang:en
            @@@@@@:
              There is no document or it is not available.
       @@@Def:
         @@@@ContentType:
           lang:dis
         @@@@GetPropNode:
           DOMHTML:contentDocument
     @@Level[list]:  2
     @@SpecLevel[list]:  2
     @@L2:
##IF:HTMLFrameElement

ET:
  @ETQName:
    xhtml1:iframe
  @IFQName:  HTMLIFrameElement
  @ClsQName:ManakaiDOMHTMLIFrameElement
  @ISAHTMLElement:
  @L1IF:

  @ForCheck: !ForXHTML11

  @ATTR:
     @@Name:  align
     @@Deprecated:
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:frameborder
     @@DOMAName:  frameBorder
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  height
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:longdesc
     @@DOMAName:  longDesc
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:marginheight
     @@DOMAName:  marginHeight
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@AName:marginwidth
     @@DOMAName:  marginWidth
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  name
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  scrolling
     @@ReflectEnum:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  src
     @@ReflectURI:
     @@Get:
     @@Set:
  @ATTR:
     @@Name:  width
     @@ReflectCDATA:
     @@Get:
     @@Set:
  @Attr:
     @@Name:  contentDocument
     @@Description:
       @@@lang:en
       @@@@:
         The document this frame contains, if any and available.
     @@Get:
        @@@Type:  Document
        @@@Description:
          @@@@lang:en
          @@@@@:
            There is no document or it is not available.
       @@@Def:
         @@@@ContentType:
           lang:dis
         @@@@GetPropNode:
           DOMHTML:contentDocument
     @@Level[list]:  2
     @@SpecLevel[list]:  2
     @@L2:
##IF:HTMLIFrameElement

## DOMHTML.dis ends here

