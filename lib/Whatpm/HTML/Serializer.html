
      <!DOCTYPE HTML>
      <html lang=en>
        <meta charset=utf-8>
        <title>manakai</title>
        <link rel=stylesheet href="https://manakai.github.io/css/pod.css">
        <meta name=viewport content="width=device-width">

        <h1><a href="../../" rel=top>manakai</a></h1>

        





<hgroup><h1><code>Whatpm::HTML::Serializer</code></h1><h2>HTML DOM Serializer</h2></hgroup><section id="SYNOPSIS"><h1>SYNOPSIS</h1>

<pre><code>  require Whatpm::HTML::Serializer;
  
  ## Serialize an HTML document
  my $html = Whatpm::HTML::Serializer-&gt;get_inner_html ($doc);
      ## NOTE: $html = $doc-&gt;inner_html is preferred.
  
  ## Serialize an HTML element
  my $html = Whatpm::HTML::Serializer-&gt;get_inner_html ($el);
      ## NOTE: $html = $el-&gt;inner_html is preferred.
  
  ## Serialize an HTML document fragment
  my $html = Whatpm::HTML::Serializer-&gt;get_inner_html ($df);</code></pre>

</section><section id="DESCRIPTION"><h1>DESCRIPTION</h1>

<p>The <code>Whatpm::HTML::Serializer</code> module provides a function that implements the fragment serialization algorithm of HTML5. It can be used to serialize a HTML <code>Document</code> or <code>Element</code> node into an HTML document or fragment.</p>

<p>Note that the algorithm cannot be used to serialize an arbitrary DOM tree; an attempt to serialize a DOM that cannot be represented in a static HTML document (fragment) will result in an invalid document or in a document representing different DOM tree.</p>

<p>For example, the DOM tree:</p>

<pre><code>  +- Element |p|
       +- Element |ul|</code></pre>

<p>... cannot be represented in HTML serialization. The serialization algorithm will generate an invalid HTML fragment:</p>

<pre><code>  &lt;p&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/p&gt;</code></pre>

<p>... which represents another DOM tree:</p>

<pre><code>  +- Element |p|
  +- Element |ul|
  (with "invalid &lt;/p&gt;" error)</code></pre>

<p>... without raising any error or warning. This is a limitation of the HTML serialization format and the fragment serialization algorithm.</p>

<p><b>NOTE</b>: Usually you don't have to call this module directly, since <a href="../../Message/DOM/Document" class="podlinkpod">Message::DOM::Document</a> and <a href="../../Message/DOM/Element" class="podlinkpod">Message::DOM::Element</a> modules implement the <code>inner_html</code> attribute for DOM <code>Document</code> and <code>Element</code> nodes.</p>

</section><section id="METHODS"><h1>METHODS</h1>

<dl>
<dt id="$html_=_Whatpm::HTML::Serializer->get_inner_html_($node,_[$onerror])"><code><i>$html</i> = Whatpm::HTML::Serializer-&gt;get_inner_html (<i>$node</i>, [<i>$onerror</i>])</code></dt>

<dd>
<p>Serialize a node by the HTML fragment serialization algorithm.</p>

<dl>
<dt><a name="$node"><i>$node</i></a></dt>

<dd>
<p>The node to serialize. The node must be a DOM <code>Document</code>, <code>DocumentFragment</code>, or <code>Element</code> node.</p>

</dd><dt><a name="$onerror"><i>$onerror</i></a></dt>

<dd>
<p>A reference to <code>CODE</code>, which will be invoked when an error occurs. If the algorithm is required to raise an <code>INVALID_STATE_ERR</code> error, i.e. if the algorithm is faced to a <code>Node</code> whose type is different from any of ones supported by the algorithm, the <code>CODE</code> is invoked with that <code>Node</code> as an argument. It is expected for the <code>CODE</code> to raise an exception. If no exception is raised, the <code>Node</code> is ignored for the purpose of the algorithm.</p>

<p>If <i>$onerror</i> is omitted, an empty <code>CODE</code> (which does nothing) is assumed.</p>

</dd><dt><a name="$html"><i>$html</i></a></dt>

<dd>
<p>A <code>SCALAR</code> reference to the result of the HTML fragment serialization algorithm.</p>
</dd>
</dl>
</dd>
</dl>

</section><section id="SEE_ALSO"><h1>SEE ALSO</h1>

<p>Whatpm <code class="url">&lt;<a href="https://suika.suikawiki.org/www/markup/html/whatpm/readme">https://suika.suikawiki.org/www/markup/html/whatpm/readme</a>&gt;</code>.</p>

<p>Web Applications 1.0 - HTML fragment serialization algorithm <code class="url">&lt;<a href="http://www.whatwg.org/specs/web-apps/current-work/complete.html#html-fragment-serialization-algorithm">http://www.whatwg.org/specs/web-apps/current-work/complete.html#html-fragment-serialization-algorithm</a>&gt;</code>.</p>

<p>Modules <a href="../../Message/DOM/Document" class="podlinkpod">Message::DOM::Document</a> and <a href="../../Message/DOM/Element" class="podlinkpod">Message::DOM::Element</a> of manakai are implementing the <code>inner_html</code> attribute using the <code>Whatpm::HTML::Serializer</code> module.</p>

</section><section id="AUTHOR"><h1>AUTHOR</h1>

<p>Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

</section><section id="LICENSE"><h1>LICENSE</h1>

<p>Copyright 2007-2011 Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>




</section>

        <sw-ads normal></sw-ads>
        <script src="https://manakai.github.io/js/global.js" async></script>

        <footer>
          <ul>
          <li><a href="../../" rel=top>Top</a>
          </ul>
        </footer>
        <sw-ads-notes></sw-ads-notes>
    