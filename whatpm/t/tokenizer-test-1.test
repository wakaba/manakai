{"tests": [

{"description":"<!DOCTYPE",
"input":"<!DOCTYPE",
"output":["ParseError","ParseError",["DOCTYPE", null, null, null, false]]},

{"description":"<!DOCTYPE ",
"input":"<!DOCTYPE ",
"output":["ParseError",["DOCTYPE", null, null, null, false]]},

{"description":"<!DOCTYPE >",
"input":"<!DOCTYPE >",
"output":["ParseError",["DOCTYPE", null, null, null, false]]},

{"description":"<!DOCTYPE h",
"input":"<!DOCTYPE h",
"output":["ParseError",["DOCTYPE", "h", null, null, false]]},

{"description":"<!DOCTYPE H",
"input":"<!DOCTYPE H",
"output":["ParseError",["DOCTYPE", "H", null, null, false]]},

{"description":"<!DOCTYPE h>",
"input":"<!DOCTYPE h>",
"output":[["DOCTYPE", "h", null, null, true]]},

{"description":"<!DOCTYPE H>",
"input":"<!DOCTYPE H>",
"output":[["DOCTYPE", "H", null, null, true]]},

{"description":"<!DOCTYPE ht",
"input":"<!DOCTYPE ht",
"output":["ParseError",["DOCTYPE", "ht", null, null, false]]},

{"description":"<!DOCTYPE Ht",
"input":"<!DOCTYPE Ht",
"output":["ParseError",["DOCTYPE", "Ht", null, null, false]]},

{"description":"<!DOCTYPE hT",
"input":"<!DOCTYPE hT",
"output":["ParseError",["DOCTYPE", "hT", null, null, false]]},

{"description":"<!DOCTYPE ht>",
"input":"<!DOCTYPE ht>",
"output":[["DOCTYPE", "ht", null, null, true]]},

{"description":"<!DOCTYPE Ht>",
"input":"<!DOCTYPE Ht>",
"output":[["DOCTYPE", "Ht", null, null, true]]},

{"description":"<!DOCTYPE hT>",
"input":"<!DOCTYPE hT>",
"output":[["DOCTYPE", "hT", null, null, true]]},

{"description":"<!DOCTYPE hT>",
"input":"<!DOCTYPE hT>",
"output":[["DOCTYPE", "hT", null, null, true]]},

{"description":"<!DOCTYPE htm",
"input":"<!DOCTYPE htm",
"output":["ParseError",["DOCTYPE", "htm", null, null, false]]},

{"description":"<!DOCTYPE Htm",
"input":"<!DOCTYPE Htm",
"output":["ParseError",["DOCTYPE", "Htm", null, null, false]]},

{"description":"<!DOCTYPE hTM",
"input":"<!DOCTYPE hTM",
"output":["ParseError",["DOCTYPE", "hTM", null, null, false]]},

{"description":"<!DOCTYPE htm>",
"input":"<!DOCTYPE htm>",
"output":[["DOCTYPE", "htm", null, null, true]]},

{"description":"<!DOCTYPE Htm>",
"input":"<!DOCTYPE Htm>",
"output":[["DOCTYPE", "Htm", null, null, true]]},

{"description":"<!DOCTYPE hTM>",
"input":"<!DOCTYPE hTM>",
"output":[["DOCTYPE", "hTM", null, null, true]]},

{"description":"<!DOCTYPE html5",
"input":"<!DOCTYPE html5",
"output":["ParseError",["DOCTYPE", "html5", null, null, false]]},

{"description":"<!DOCTYPE html5>",
"input":"<!DOCTYPE html5>",
"output":[["DOCTYPE", "html5", null, null, true]]},

{"description":"PUBLIC\u0022\u0022",
"input":"<!DOCTYPE html PUBLIC\u0022\u0022>",
"output":[["DOCTYPE", "html", "", null, true]]},

{"description":"PUBLIC''",
"input":"<!DOCTYPE html PUBLIC''>",
"output":[["DOCTYPE", "html", "", null, true]]},

{"description":"PUBLICbogus",
"input":"<!DOCTYPE html PUBLICbogus>",
"output":["ParseError",["DOCTYPE", "html", null, null, false]]},

{"description":"PUBLIC bogus",
"input":"<!DOCTYPE html PUBLIC bogus>",
"output":["ParseError",["DOCTYPE", "html", null, null, false]]},

{"description":"PUBLIC \u0022\u0022bogus",
"input":"<!DOCTYPE html PUBLIC \u0022\u0022bogus>",
"output":["ParseError",["DOCTYPE", "html", "", null, false]]},

{"description":"PUBLIC \u0022\u0022 bogus",
"input":"<!DOCTYPE html PUBLIC \u0022\u0022 bogus>",
"output":["ParseError",["DOCTYPE", "html", "", null, false]]},

{"description":"PUBLIC \u0022\u0022 \u0022\u0022bogus",
"input":"<!DOCTYPE html PUBLIC \u0022\u0022 \u0022\u0022bogus>",
"output":["ParseError",["DOCTYPE", "html", "", "", false]]},

{"description":"PUBLIC \u0022\u0022 \u0022\u0022 bogus",
"input":"<!DOCTYPE html PUBLIC \u0022\u0022 \u0022\u0022 bogus>",
"output":["ParseError",["DOCTYPE", "html", "", "", false]]},

{"description":"PUBLIC \u0022\u0022\u0022\u0022>",
"input":"<!DOCTYPE html PUBLIC \u0022\u0022\u0022\u0022>",
"output":[["DOCTYPE", "html", "", "", true]]},

{"description":"PUBLIC \u0022\u0022''>",
"input":"<!DOCTYPE html PUBLIC \u0022\u0022''>",
"output":[["DOCTYPE", "html", "", "", true]]},

{"description":"non-PCDATA content model flag, start tag-like string",
"contentModelFlags":["PLAINTEXT","RCDATA","CDATA"],
"input":"<div>",
"output":[["Character", "<div>"]]},

{"description":"end tag followed by character data",
"contentModelFlags":["RCDATA","CDATA"],
"lastStartTag":"xxx",
"input":"AB</xxx>CD",
"output":[["Character", "AB"],["EndTag", "xxx"],["Character", "CD"]]},

{"description":"c1 character references",
"input":"&#128;&#129;&#130;&#131;&#132;&#133;&#134;&#135;",
"output":[
  "ParseError", ["Character", "\u20AC"],
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u201A"],
  "ParseError", ["Character", "\u0192"],
  "ParseError", ["Character", "\u201E"],
  "ParseError", ["Character", "\u2026"],
  "ParseError", ["Character", "\u2020"],
  "ParseError", ["Character", "\u2021"]
]},
{"description":"c1 character references",
"input":"&#136;&#137;&#138;&#139;&#140;&#141;&#142;&#143;",
"output":[
  "ParseError", ["Character", "\u02C6"],
  "ParseError", ["Character", "\u2030"],
  "ParseError", ["Character", "\u0160"],
  "ParseError", ["Character", "\u2039"],
  "ParseError", ["Character", "\u0152"],
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u017D"],
  "ParseError", ["Character", "\uFFFD"]
]},
{"description":"c1 character references",
"input":"&#144;&#145;&#146;&#147;&#148;&#149;&#150;&#151;",
"output":[
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u2018"],
  "ParseError", ["Character", "\u2019"],
  "ParseError", ["Character", "\u201C"],
  "ParseError", ["Character", "\u201D"],
  "ParseError", ["Character", "\u2022"],
  "ParseError", ["Character", "\u2013"],
  "ParseError", ["Character", "\u2014"]
]},
{"description":"c1 character references",
"input":"&#152;&#153;&#154;&#155;&#156;&#157;&#158;&#159;",
"output":[
  "ParseError", ["Character", "\u02DC"],
  "ParseError", ["Character", "\u2122"],
  "ParseError", ["Character", "\u0161"],
  "ParseError", ["Character", "\u203A"],
  "ParseError", ["Character", "\u0153"],
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u017E"],
  "ParseError", ["Character", "\u0178"]
]},

{"description":"c1 character references",
"input":"&#x80;&#x81;&#x82;&#x83;&#x84;&#x85;&#x86;&#x87;",
"output":[
  "ParseError", ["Character", "\u20AC"],
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u201A"],
  "ParseError", ["Character", "\u0192"],
  "ParseError", ["Character", "\u201E"],
  "ParseError", ["Character", "\u2026"],
  "ParseError", ["Character", "\u2020"],
  "ParseError", ["Character", "\u2021"]
]},
{"description":"c1 character references",
"input":"&#x88;&#x89;&#x8a;&#x8b;&#x8c;&#x8d;&#x8e;&#x8f;",
"output":[
  "ParseError", ["Character", "\u02C6"],
  "ParseError", ["Character", "\u2030"],
  "ParseError", ["Character", "\u0160"],
  "ParseError", ["Character", "\u2039"],
  "ParseError", ["Character", "\u0152"],
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u017D"],
  "ParseError", ["Character", "\uFFFD"]
]},
{"description":"c1 character references",
"input":"&#x90;&#x91;&#x92;&#x93;&#x94;&#x95;&#x96;&#x97;",
"output":[
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u2018"],
  "ParseError", ["Character", "\u2019"],
  "ParseError", ["Character", "\u201C"],
  "ParseError", ["Character", "\u201D"],
  "ParseError", ["Character", "\u2022"],
  "ParseError", ["Character", "\u2013"],
  "ParseError", ["Character", "\u2014"]
]},
{"description":"c1 character references",
"input":"&#x98;&#x99;&#x9a;&#x9b;&#x9c;&#x9d;&#x9e;&#x9f;",
"output":[
  "ParseError", ["Character", "\u02DC"],
  "ParseError", ["Character", "\u2122"],
  "ParseError", ["Character", "\u0161"],
  "ParseError", ["Character", "\u203A"],
  "ParseError", ["Character", "\u0153"],
  "ParseError", ["Character", "\uFFFD"],
  "ParseError", ["Character", "\u017E"],
  "ParseError", ["Character", "\u0178"]
]},

{"description":"NULL character",
"input":"\u0000",
"output":["ParseError",["Character", "\uFFFD"]]},

{"description":"&TRADE;",
"input":"&TRADE;",
"output":[["Character", "\u2122"]]},

{"description":"&lang;",
"input":"&lang;",
"output":[["Character", "\u3008"]]},

{"description":"&rang;",
"input":"&rang;",
"output":[["Character", "\u3009"]]},

{"description":"&amp;;",
"input":"&amp;;",
"output":[["Character", "&;"]]},

{"description":"cdata end tag containing <",
"contentModelFlags":["RCDATA","CDATA"],
"lastStartTag":"xxx",
"input":"</xxx<div>",
"output":[["Character", "</xxx<div>"]]},

{"description":"< in tag name state",
"input":"<p<div>",
"output":[["StartTag", "p<div", {}]]},

{"description":"< in before attribute name state",
"input":"<p <div>",
"output":[["StartTag", "p", {"<div":""}]]},

{"description":"< in attribute name state",
"input":"<p align<div>",
"output":[["StartTag", "p", {"align<div":""}]]},

{"description":"< in after attribute name state",
"input":"<p align <div>",
"output":[["StartTag", "p", {"align":"","<div":""}]]},

{"description":"< in before attribute value state",
"input":"<p align=<div>",
"output":[["StartTag", "p", {"align":"<div"}]]},

{"description":"< in attribute value (unquoted) state",
"input":"<p align=left<div>",
"output":[["StartTag", "p", {"align":"left<div"}]]},

{"description":"< in attribute value (single-unquoted) state",
"input":"<p align='left<div>",
"output":["ParseError", ["StartTag", "p", {"align":"left<div>"}]]},

{"description":"< in attribute value (double-unquoted) state",
"input":"<p align=\u0022left<div>",
"output":["ParseError", ["StartTag", "p", {"align":"left<div>"}]]}

]}